<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>❤️第十八章 Linux 日志管理❤️ | 个人博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/Blog/img/01.favicon">
    <link rel="stylesheet" href="/Blog/css/style.css">
    <script charset="utf-8" href="/Blog/js/main.js"></script>
    <meta name="description" content="纸上得带终觉浅,绝知此事要躬行">
    
    <link rel="preload" href="/Blog/assets/css/0.styles.2a618149.css" as="style"><link rel="preload" href="/Blog/assets/js/app.8c5833f4.js" as="script"><link rel="preload" href="/Blog/assets/js/3.65910f85.js" as="script"><link rel="preload" href="/Blog/assets/js/20.ad0a6aed.js" as="script"><link rel="preload" href="/Blog/assets/js/71.87eb04f3.js" as="script"><link rel="prefetch" href="/Blog/assets/js/10.81cdba43.js"><link rel="prefetch" href="/Blog/assets/js/100.f9fcd96f.js"><link rel="prefetch" href="/Blog/assets/js/101.d0a5d9e0.js"><link rel="prefetch" href="/Blog/assets/js/102.f1e62e87.js"><link rel="prefetch" href="/Blog/assets/js/103.36d86749.js"><link rel="prefetch" href="/Blog/assets/js/104.a3fed4ae.js"><link rel="prefetch" href="/Blog/assets/js/11.84327180.js"><link rel="prefetch" href="/Blog/assets/js/12.17d9ca8d.js"><link rel="prefetch" href="/Blog/assets/js/13.1e830a5c.js"><link rel="prefetch" href="/Blog/assets/js/14.f517f037.js"><link rel="prefetch" href="/Blog/assets/js/15.69fcf12f.js"><link rel="prefetch" href="/Blog/assets/js/16.aa4f87ad.js"><link rel="prefetch" href="/Blog/assets/js/17.eb413a99.js"><link rel="prefetch" href="/Blog/assets/js/18.c7f675dc.js"><link rel="prefetch" href="/Blog/assets/js/19.1ad65747.js"><link rel="prefetch" href="/Blog/assets/js/2.c804ae14.js"><link rel="prefetch" href="/Blog/assets/js/21.05451fff.js"><link rel="prefetch" href="/Blog/assets/js/22.97f87464.js"><link rel="prefetch" href="/Blog/assets/js/23.6187bcc3.js"><link rel="prefetch" href="/Blog/assets/js/24.5efd4f01.js"><link rel="prefetch" href="/Blog/assets/js/25.72d75945.js"><link rel="prefetch" href="/Blog/assets/js/26.77e4fa87.js"><link rel="prefetch" href="/Blog/assets/js/27.f3400906.js"><link rel="prefetch" href="/Blog/assets/js/28.af630add.js"><link rel="prefetch" href="/Blog/assets/js/29.64dd6a74.js"><link rel="prefetch" href="/Blog/assets/js/30.20fab7fa.js"><link rel="prefetch" href="/Blog/assets/js/31.97852703.js"><link rel="prefetch" href="/Blog/assets/js/32.ec619554.js"><link rel="prefetch" href="/Blog/assets/js/33.53d05166.js"><link rel="prefetch" href="/Blog/assets/js/34.8eaf5933.js"><link rel="prefetch" href="/Blog/assets/js/35.a9ae4789.js"><link rel="prefetch" href="/Blog/assets/js/36.9315a889.js"><link rel="prefetch" href="/Blog/assets/js/37.550c69d5.js"><link rel="prefetch" href="/Blog/assets/js/38.6780cc44.js"><link rel="prefetch" href="/Blog/assets/js/39.5b940e90.js"><link rel="prefetch" href="/Blog/assets/js/4.3f0a58fc.js"><link rel="prefetch" href="/Blog/assets/js/40.25529cbc.js"><link rel="prefetch" href="/Blog/assets/js/41.23a5a65a.js"><link rel="prefetch" href="/Blog/assets/js/42.e826c05e.js"><link rel="prefetch" href="/Blog/assets/js/43.7cd04767.js"><link rel="prefetch" href="/Blog/assets/js/44.31c4d3cb.js"><link rel="prefetch" href="/Blog/assets/js/45.59b5ae23.js"><link rel="prefetch" href="/Blog/assets/js/46.1411870b.js"><link rel="prefetch" href="/Blog/assets/js/47.99374a4f.js"><link rel="prefetch" href="/Blog/assets/js/48.b4246cc1.js"><link rel="prefetch" href="/Blog/assets/js/49.d0496971.js"><link rel="prefetch" href="/Blog/assets/js/5.8edcf0df.js"><link rel="prefetch" href="/Blog/assets/js/50.ff075220.js"><link rel="prefetch" href="/Blog/assets/js/51.e3d89f6f.js"><link rel="prefetch" href="/Blog/assets/js/52.c2631e97.js"><link rel="prefetch" href="/Blog/assets/js/53.57560e23.js"><link rel="prefetch" href="/Blog/assets/js/54.83f926dc.js"><link rel="prefetch" href="/Blog/assets/js/55.f1d2b2df.js"><link rel="prefetch" href="/Blog/assets/js/56.abe4c350.js"><link rel="prefetch" href="/Blog/assets/js/57.f200ccef.js"><link rel="prefetch" href="/Blog/assets/js/58.da625c3a.js"><link rel="prefetch" href="/Blog/assets/js/59.fa0b97d1.js"><link rel="prefetch" href="/Blog/assets/js/6.74c5fcb0.js"><link rel="prefetch" href="/Blog/assets/js/60.4b8135d2.js"><link rel="prefetch" href="/Blog/assets/js/61.6f3cefa0.js"><link rel="prefetch" href="/Blog/assets/js/62.3ec3dfad.js"><link rel="prefetch" href="/Blog/assets/js/63.87b92011.js"><link rel="prefetch" href="/Blog/assets/js/64.82a633ab.js"><link rel="prefetch" href="/Blog/assets/js/65.f553c37b.js"><link rel="prefetch" href="/Blog/assets/js/66.dc4b36ca.js"><link rel="prefetch" href="/Blog/assets/js/67.cc6954ce.js"><link rel="prefetch" href="/Blog/assets/js/68.d68da5a8.js"><link rel="prefetch" href="/Blog/assets/js/69.238fecf1.js"><link rel="prefetch" href="/Blog/assets/js/7.5c20a63a.js"><link rel="prefetch" href="/Blog/assets/js/70.f00b6327.js"><link rel="prefetch" href="/Blog/assets/js/72.305d511f.js"><link rel="prefetch" href="/Blog/assets/js/73.eb7b4715.js"><link rel="prefetch" href="/Blog/assets/js/74.354f19bc.js"><link rel="prefetch" href="/Blog/assets/js/75.acb64b9c.js"><link rel="prefetch" href="/Blog/assets/js/76.bd33e776.js"><link rel="prefetch" href="/Blog/assets/js/77.c396a9be.js"><link rel="prefetch" href="/Blog/assets/js/78.b3c14e14.js"><link rel="prefetch" href="/Blog/assets/js/79.7cfa3193.js"><link rel="prefetch" href="/Blog/assets/js/8.abf6cd10.js"><link rel="prefetch" href="/Blog/assets/js/80.fdeb83a7.js"><link rel="prefetch" href="/Blog/assets/js/81.92582601.js"><link rel="prefetch" href="/Blog/assets/js/82.a376b9de.js"><link rel="prefetch" href="/Blog/assets/js/83.2f1ab9ac.js"><link rel="prefetch" href="/Blog/assets/js/84.59c1a4e4.js"><link rel="prefetch" href="/Blog/assets/js/85.134b67c9.js"><link rel="prefetch" href="/Blog/assets/js/86.007a20e0.js"><link rel="prefetch" href="/Blog/assets/js/87.ee00e97a.js"><link rel="prefetch" href="/Blog/assets/js/88.4799e06b.js"><link rel="prefetch" href="/Blog/assets/js/89.a39f5912.js"><link rel="prefetch" href="/Blog/assets/js/9.04f35ee9.js"><link rel="prefetch" href="/Blog/assets/js/90.062e6162.js"><link rel="prefetch" href="/Blog/assets/js/91.5e960f80.js"><link rel="prefetch" href="/Blog/assets/js/92.00225e56.js"><link rel="prefetch" href="/Blog/assets/js/93.55db8078.js"><link rel="prefetch" href="/Blog/assets/js/94.a9f0f665.js"><link rel="prefetch" href="/Blog/assets/js/95.cc7419a1.js"><link rel="prefetch" href="/Blog/assets/js/96.1c787583.js"><link rel="prefetch" href="/Blog/assets/js/97.242178c7.js"><link rel="prefetch" href="/Blog/assets/js/98.3fd83459.js"><link rel="prefetch" href="/Blog/assets/js/99.bef3deb4.js">
    <link rel="stylesheet" href="/Blog/assets/css/0.styles.2a618149.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Blog/" class="home-link router-link-active"><!----> <span class="site-name">个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java全栈" class="dropdown-title"><span class="title">Java全栈</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java全栈" class="mobile-dropdown-title"><span class="title">Java全栈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Java/one/" class="nav-link">
  JavaSE
</a></li></ul></li><li class="dropdown-item"><h4>
          JavaWeb
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Servlet/one/" class="nav-link">
  Servlet
</a></li></ul></li><li class="dropdown-item"><h4>
          主流框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Spring5/one/" class="nav-link">
  Spring5
</a></li><li class="dropdown-subitem"><a href="/Blog/studynotes/SpringMVC/one/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-subitem"><a href="/Blog/studynotes/Mybatis/one/" class="nav-link">
  Mybatis
</a></li></ul></li><li class="dropdown-item"><h4>
          项目管理
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Maven/one/" class="nav-link">
  Maven
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/MySQL/one/" class="nav-link">
  MySQL
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="大数据" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Python/one/" class="nav-link">
  Python基础
</a></li><li class="dropdown-subitem"><a href="/Blog/studynotes/dataCleaning/one/" class="nav-link">
  数据分析
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/MySQL/one/" class="nav-link">
  MySQL
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="操作系统" class="dropdown-title"><span class="title">操作系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="操作系统" class="mobile-dropdown-title"><span class="title">操作系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/studynotes/Linux/one/" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试宝典" class="dropdown-title"><span class="title">面试宝典</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试宝典" class="mobile-dropdown-title"><span class="title">面试宝典</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/baodian/zero/" class="nav-link">
  初级开发篇
</a></li><li class="dropdown-item"><!----> <a href="/Blog/baodian/high/" class="nav-link">
  中高进阶篇
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具箱" class="mobile-dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          帮助手册
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://docs.oracle.com/javase/8/docs/api/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java SE 8参考手册
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://dev.mysql.com/doc/refman/5.7/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MySQL5.7参考手册
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线服务
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cloud.tencent.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          博客指南
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://juejin.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java全栈" class="dropdown-title"><span class="title">Java全栈</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java全栈" class="mobile-dropdown-title"><span class="title">Java全栈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Java/one/" class="nav-link">
  JavaSE
</a></li></ul></li><li class="dropdown-item"><h4>
          JavaWeb
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Servlet/one/" class="nav-link">
  Servlet
</a></li></ul></li><li class="dropdown-item"><h4>
          主流框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Spring5/one/" class="nav-link">
  Spring5
</a></li><li class="dropdown-subitem"><a href="/Blog/studynotes/SpringMVC/one/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-subitem"><a href="/Blog/studynotes/Mybatis/one/" class="nav-link">
  Mybatis
</a></li></ul></li><li class="dropdown-item"><h4>
          项目管理
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Maven/one/" class="nav-link">
  Maven
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/MySQL/one/" class="nav-link">
  MySQL
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="大数据" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Python/one/" class="nav-link">
  Python基础
</a></li><li class="dropdown-subitem"><a href="/Blog/studynotes/dataCleaning/one/" class="nav-link">
  数据分析
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/MySQL/one/" class="nav-link">
  MySQL
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="操作系统" class="dropdown-title"><span class="title">操作系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="操作系统" class="mobile-dropdown-title"><span class="title">操作系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/studynotes/Linux/one/" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试宝典" class="dropdown-title"><span class="title">面试宝典</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试宝典" class="mobile-dropdown-title"><span class="title">面试宝典</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/baodian/zero/" class="nav-link">
  初级开发篇
</a></li><li class="dropdown-item"><!----> <a href="/Blog/baodian/high/" class="nav-link">
  中高进阶篇
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具箱" class="mobile-dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          帮助手册
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://docs.oracle.com/javase/8/docs/api/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java SE 8参考手册
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://dev.mysql.com/doc/refman/5.7/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MySQL5.7参考手册
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线服务
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cloud.tencent.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          博客指南
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://juejin.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 基础篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 目录结构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 远程登录Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux Vi和Vim编辑器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 虚拟机开关登注</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 用户管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 实用指令</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 组管理和权限管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 定时任务调度</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 磁盘分区、挂载</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 网络配置</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 进程管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux RPM与YUM</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux JavaEE定制篇-JavaEE环境搭建</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 大数据定制篇-Shell编程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux Python定制篇-Python开发平台Ubuntu</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux Python定制篇-ART软件管理和远程登录</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux 日志管理</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Blog/studynotes/Linux/18.html" aria-current="page" class="active sidebar-link">❤️第十八章 Linux 日志管理❤️</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/studynotes/Linux/18.html#_18-1-基本介绍" class="sidebar-link">18.1 基本介绍</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/Linux/18.html#_18-2-系统常用的日志" class="sidebar-link">18.2 系统常用的日志</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/Linux/18.html#_18-3-日志管理服务-rsyslogd" class="sidebar-link">18.3 日志管理服务 rsyslogd</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/Linux/18.html#_18-4-日志轮替" class="sidebar-link">18.4 日志轮替</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/studynotes/Linux/18.html#_18-4-1-基本介绍" class="sidebar-link">18.4.1 基本介绍</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/Linux/18.html#_18-4-2-日志轮替文件命名" class="sidebar-link">18.4.2 日志轮替文件命名</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/Linux/18.html#_18-4-3-logrotate-配置文件" class="sidebar-link">18.4.3 logrotate 配置文件</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/Linux/18.html#_18-4-4-把自己的日志加入日志轮替" class="sidebar-link">18.4.4 把自己的日志加入日志轮替</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/Linux/18.html#_18-4-5-应用实例" class="sidebar-link">18.4.5 应用实例</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/Linux/18.html#_18-5-日志轮替机制原理" class="sidebar-link">18.5 日志轮替机制原理</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/Linux/18.html#_18-6-查看内存日志" class="sidebar-link">18.6 查看内存日志</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 定制自己的Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 内核介绍&amp;内核升级</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 备份与恢复</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 可视化管理-webmin和bt运维工具</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="第十八章-linux-日志管理"><a href="#第十八章-linux-日志管理" class="header-anchor">#</a> <strong>❤️<strong>第十八章 Linux 日志管理</strong>❤️</strong></h1> <h2 id="_18-1-基本介绍"><a href="#_18-1-基本介绍" class="header-anchor">#</a> 18.1 基本介绍</h2> <ol><li>日志文件是重要的系统信息文件，其中记录了许多重要的系统事件，包括用户的登录信息、系统的启动信息、系统的安全信息、邮件相关信息、各种服务相关信息等。</li> <li>日志对于安全来说也很重要，它记录了系统每天发生的各种事情，通过日志来检查错误发生的原因，或者受到攻击时攻击者留下的痕迹。</li> <li>可以这样理解<strong>日志是用来记录重大事件的工具</strong></li></ol> <h2 id="_18-2-系统常用的日志"><a href="#_18-2-系统常用的日志" class="header-anchor">#</a> 18.2 系统常用的日志</h2> <ul><li>/var/log/目录就是系统日志文件的保存位置，看张图</li></ul> <p><img src="/Blog/assets/img/01.0f696a2b.png" alt="1632636481647"></p> <ul><li>系统常用的日志</li></ul> <p><img src="/Blog/assets/img/02.ec1a54cf.png" alt="1632636514893"></p> <ul><li>应用案例</li></ul> <blockquote><p>使用root用户通过xshell7登陆，第一次使用错误的密码，第二次使用正确的密码登录成功看看在日志文件/var/log/secure里有没有记录相关信息</p></blockquote> <p><img src="/Blog/assets/img/03.7d9fe8d1.png" alt="1632636791053"></p> <h2 id="_18-3-日志管理服务-rsyslogd"><a href="#_18-3-日志管理服务-rsyslogd" class="header-anchor">#</a> 18.3 日志管理服务 rsyslogd</h2> <p>CentOS7.6日志服务是rsyslogd ,CentOS6.x日志服务是syslogd 。rsyslogd功能更强大。rsyslogd的使用、日志文件的格式，和 syslogd 服务兼容的。原理示意图</p> <p><img src="/Blog/assets/img/12.6bd1243f.png" alt="1632647832666"></p> <ul><li><p>查询Linux中的rsysloged服务是否启动</p> <p><font color="#DC4040" size="4" face="黑体">ps aux | grep &quot;rsyslog&quot; / grep -v &quot;grep&quot;</font></p></li> <li><p>查询rsyslogd服务的自启动状态</p> <p><font color="#DC4040" size="4" face="黑体">systemctl list-unit-files |grep rsyslog</font></p></li> <li><p>配置文件:/etc/rsyslog.conf</p> <p>编辑文件时的格式为* . *:存放日志文件其中第一个*代表日志类型，第二个*代表日志级别</p></li></ul> <ol><li><p>日志类型分为</p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>auth</td> <td>pam产生的日志</td></tr> <tr><td>authpriv</td> <td>ssh、ftp等登录信息的验证信息</td></tr> <tr><td>corn</td> <td>时间任务相关</td></tr> <tr><td>kern</td> <td>内核</td></tr> <tr><td>lpr</td> <td>打印</td></tr> <tr><td>mail</td> <td>邮件</td></tr> <tr><td>mark(syslog)-rsyslog</td> <td>服务内部的信息，时间标识</td></tr> <tr><td>news</td> <td>新闻组</td></tr> <tr><td>user</td> <td>用户程序产生的相关信息</td></tr> <tr><td>uucp</td> <td>unix to nuix copy主机之间相关的通信</td></tr> <tr><td>local 1-7</td> <td>自定义的日志设备</td></tr></tbody></table></li> <li><p>日志级别分为</p> <table><thead><tr><th>级别</th> <th>说明</th></tr></thead> <tbody><tr><td>debug</td> <td>有调试信息的，日志通信最多</td></tr> <tr><td>info</td> <td>一般信息日志，最常用</td></tr> <tr><td>notice</td> <td>最具有重要性的普通条件的信息</td></tr> <tr><td>warning</td> <td>警告级别</td></tr> <tr><td>err</td> <td>错误级别，阻止某个功能或者模块不能正常工作的信息</td></tr> <tr><td>crit</td> <td>严重级别，阻止整个系统或者整个软件不能正常工作的信息</td></tr> <tr><td>alert</td> <td>需要立刻修改的信息</td></tr> <tr><td>emerg</td> <td>内核崩溃等重要信息</td></tr> <tr><td>none</td> <td>什么都不记录</td></tr></tbody></table> <p>注意:<strong>从上到下，级别从低到高，记录信息越来越少</strong></p></li></ol> <ul><li>由日志服务rsyslogd记录的日志文件，日志文件的格式包含以下4列:</li></ul> <ol><li>事件产生的时间</li> <li>产生事件的服务器的主机名</li> <li>产生事件的服务名或程序名</li> <li>事件的具体信息</li></ol> <ul><li><p>日志如何查看实例</p> <p>查看一下/var/log/secure日志，这个日志中记录的是用户验证和授权方面的信息来分析如何查看</p> <p><img src="/Blog/assets/img/05.0a542c75.png" alt="1632639929716"></p></li> <li><p>日志管理服务应用实例</p></li></ul> <p>在/etc/rsyslog.conf 中添加一个日志文件/var/log/frx.log,当有事件发送时(比如sshd服务相关事件)，该文件会接收到信息并保存.给小伙伴演示重启，登录的情况，看看是否有日志保存</p> <p><img src="/Blog/assets/img/06.a798b5a7.png" alt="1632642940444"></p> <h2 id="_18-4-日志轮替"><a href="#_18-4-日志轮替" class="header-anchor">#</a> 18.4 日志轮替</h2> <h3 id="_18-4-1-基本介绍"><a href="#_18-4-1-基本介绍" class="header-anchor">#</a> 18.4.1 基本介绍</h3> <p>日志轮替就是把旧的日志文件移动并改名，同时建立新的空日志文件，当旧日志文件超出保存的范围之后，就会进行删除</p> <h3 id="_18-4-2-日志轮替文件命名"><a href="#_18-4-2-日志轮替文件命名" class="header-anchor">#</a> 18.4.2 日志轮替文件命名</h3> <ol><li>centos7使用logrotate进行日志轮替管理，要想改变日志轮替文件名字，通过/etc/logrotate.conf配置文件中&quot;dateext&quot;参数:</li> <li>如果配置文件中有“dateext”参数，那么日志会用日期来作为日志文件的后缀，例如“secure-20201010”。这样日志文件名不会重叠，也就不需要日志文件的改名，只需要指定保存日志个数，删除多余的日志文件即可。</li> <li>如果配置文件中没有“dateext”参数，日志文件就需要进行改名了。当第一次进行日志轮替时，当前的“secure”日志会自动改名为“secure.1”，然后新建“secure”日志，用来保存新的日志。当第二次进行日志轮替时，“secure.1&quot;会自动改名为“secure.2”，当前的“secure”日志会自动改名为“secure.1”，然后也会新建“secure”日志，用来保存新的日志，以此类推。</li></ol> <h3 id="_18-4-3-logrotate-配置文件"><a href="#_18-4-3-logrotate-配置文件" class="header-anchor">#</a> 18.4.3 logrotate 配置文件</h3> <ul><li><p>​     <strong>/etc/logrotate.conf</strong>为logrotate的全局配置文件</p> <p>#rotate log files weekly，<strong>每周对日志文件进行一次轮替</strong></p> <p>weekly</p> <p>#keep 4 weeks worth of backlogs，<strong>共保存4份日志文件，当建立新的日志文件时，旧的将会被删除</strong></p> <p>rotate 4</p> <p>#create new(empty) log files after rotating old ones，<strong>创建新的空的日志文件，在日志轮替后</strong></p> <p>create</p> <p>#use date as a suffix of the rotated file,<strong>使用日期作为日志轮替文件的后缀</strong></p> <p>dateext</p> <p>uncomment this if you want your log fles compressed,<strong>日志文件是否压缩。如果取消注释，则日志会在转储的同时进行压缩</strong></p> <p>#compress</p> <p>#RPM packages drop log rotation information into this directory</p> <p>include /etc/logrotate.d</p> <p><strong>#包含/etc/logrotate.d/目录中所有的子配置文件。也就是说会把这个目录中所有子配置文件读取进来，</strong></p> <p>#下面是单独设置，优先级更高。</p> <p>#no packages own wtmp and btmp -- we'll rotate them here</p> <p>/var/log/wtmp {
monthly                 <strong>#每月对日志文件进行一次轮替</strong></p> <p>​		create 0664 root utmp          <strong>#建立的新日志文件，权限是0664，所有者是 root ，所属组是utmp 组</strong></p> <p>​		minsize 1M            <strong>#日志文件最小轮替大小是1MB。也就是日志一定要超过1MB才会轮替，否则就算时间达到一个月，也不进行日志转储</strong></p> <p>​		rotate 1                 <strong># 仅保留一个日志备份。也就是只有wtmp和wtmp.1日志保留而已</strong></p> <p>}</p> <p>/var/log/btmp {
missingok <strong>#如果日志不存在，则忽略该日志的警告信息</strong></p> <p>​		monthly</p> <p>​		create 0600 root utmp</p> <p>​		rotate 1
}</p></li> <li><p>参数说明</p></li></ul> <p>daily  日志的轮替周期是每天</p> <p>weekly  日志的轮替周期是每周</p> <p>monthly  日志的轮替周期是每月</p> <p>rotate  数字保留的日志文件的个数。0指没有备份</p> <p>compress  日志轮替时，旧的日志进行压缩</p> <p>create mode owner group  建立新日志，同时指定新日志的权限与所有者和所属组</p> <p>mail address  当日志轮替时，输出内容通过邮件发送到指定的邮件地址。</p> <p>missingok  如果日志不存在，则忽略该日志的警告信息</p> <p>notifempty  如果日志为空文件，则不进行日志轮替</p> <p>minsize  大小  日志轮替的最小值。也就是日志一定要达到这个最小值才会轮替，否则就算时间达到也不轮替</p> <p>size  大小  日志只有大于指定大小才进行日志轮替，而不是按照时间轮替</p> <p>dateext  使用日期作为日志轮替文件的后缀</p> <p>sharedscripts  在此关键字之后的脚本只执行一次</p> <p>prerotate/endscript  在日志轮替之前执行脚本命令</p> <p>postrotate/endscript  在日志轮替之后执行脚本命令</p> <h3 id="_18-4-4-把自己的日志加入日志轮替"><a href="#_18-4-4-把自己的日志加入日志轮替" class="header-anchor">#</a> 18.4.4 把自己的日志加入日志轮替</h3> <ol><li><p>第一种方法是直接在/etc/logrotate.conf配置文件中写入该日志的轮替策略</p></li> <li><p>第二种方法是在/etc/logrotate.d/目录中新建立该日志的轮替文件，在该轮替文件中写入正确的轮替策略，因为该目录中的文件都会被“include”到主配置文件中，所以也可以把日志加入轮替。</p></li> <li><p>推荐使用第二种方法，因为系统中需要轮替的日志非常多，如果全都直接写入/etc/logrotate.conf配置文件，那么这个文件的可管理性就会非常差，不利于此文件的维护。</p></li> <li><p>在/etc/logrotate.d/配置轮替文件一览</p> <p><img src="/Blog/assets/img/07.6ecd409f.png" alt="1632646828961"></p></li></ol> <h3 id="_18-4-5-应用实例"><a href="#_18-4-5-应用实例" class="header-anchor">#</a> 18.4.5 应用实例</h3> <p>看一个案例，在/etc/logrotate.conf进行配置,或者直接在letc/logrotate.d下创建文件 frxlog 编写如下内容，具体轮替的效果可以参考/var/log下的boot.log情况.</p> <p><img src="data:image/png;base64,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" alt="1632647136185"></p> <p>轮替的效果:</p> <p><img src="/Blog/assets/img/09.9dddcf0b.png" alt="1632647253853"></p> <h2 id="_18-5-日志轮替机制原理"><a href="#_18-5-日志轮替机制原理" class="header-anchor">#</a> 18.5 日志轮替机制原理</h2> <p>日志轮替之所以可以在指定的时间备份日志，是依赖系统定时任务。在/etc/cron.daily/目录，就会发现这个目录中是有logrotate 文件(可执行)，logrotate 通过这个文件依赖定时任务执行的。</p> <p><img src="/Blog/assets/img/10.dd5faa8c.png" alt="1632647370378"></p> <p><img src="/Blog/assets/img/11.a0c5e77d.png" alt="1632647398173"></p> <h2 id="_18-6-查看内存日志"><a href="#_18-6-查看内存日志" class="header-anchor">#</a> 18.6 查看内存日志</h2> <p><font color="#DC4040" size="4" face="黑体">journalctl </font>                                                         可以查看内存日志,这里我们看看常用的指令</p> <table><thead><tr><th>命令</th> <th>说明</th></tr></thead> <tbody><tr><td>journalctl</td> <td>查看全部</td></tr> <tr><td>journalctl  -n 3</td> <td>查看最新3条</td></tr> <tr><td>journalctl  --since 19:00  --until 19:10:10</td> <td>查看起始时间到结束时间的日志可加日期</td></tr> <tr><td>journalctl -p err</td> <td>报错日志</td></tr> <tr><td>journalctl -o verbose</td> <td>日志详细内容</td></tr> <tr><td>journalctl_PID=1245  _COMM=sshd</td> <td>查看包含这些参数的日志（在详细日志查看)或者 journalctl | grep sshd</td></tr></tbody></table> <p>注意:<strong>journalctl  查看的是内存日志，重启清空</strong></p> <blockquote><p>案例:使用journalctl | grep sshd来看看用户登录清空,重启系统，再次查询，看看日志有什么变化没有</p> <p>重启之后。发现日志清空</p></blockquote></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">Sunday, November 14, 2021 7:03 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Blog/studynotes/Linux/17.html" class="prev">
        ❤️第十七章 Python定制篇-APT软件管理和远程登录❤️
      </a></span> <span class="next"><a href="/Blog/studynotes/Linux/19.html">
        第十九章 Linux 定制自己的Linux
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/Blog/assets/js/app.8c5833f4.js" defer></script><script src="/Blog/assets/js/3.65910f85.js" defer></script><script src="/Blog/assets/js/20.ad0a6aed.js" defer></script><script src="/Blog/assets/js/71.87eb04f3.js" defer></script>
  </body>
</html>
