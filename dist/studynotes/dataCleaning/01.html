<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. Numpy库介绍 | 个人博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/Blog/img/01.favicon">
    <link rel="stylesheet" href="/Blog/css/style.css">
    <script charset="utf-8" href="/Blog/js/main.js"></script>
    <meta name="description" content="纸上得带终觉浅,绝知此事要躬行">
    
    <link rel="preload" href="/Blog/assets/css/0.styles.e224ba88.css" as="style"><link rel="preload" href="/Blog/assets/js/app.b6640247.js" as="script"><link rel="preload" href="/Blog/assets/js/3.586cfad6.js" as="script"><link rel="preload" href="/Blog/assets/js/38.d1c800e9.js" as="script"><link rel="prefetch" href="/Blog/assets/js/10.2e505030.js"><link rel="prefetch" href="/Blog/assets/js/11.ecce8e22.js"><link rel="prefetch" href="/Blog/assets/js/12.05bba0d7.js"><link rel="prefetch" href="/Blog/assets/js/13.96975df0.js"><link rel="prefetch" href="/Blog/assets/js/14.ddf8e9ac.js"><link rel="prefetch" href="/Blog/assets/js/15.203f576e.js"><link rel="prefetch" href="/Blog/assets/js/16.e77beedc.js"><link rel="prefetch" href="/Blog/assets/js/17.f1d9a7b9.js"><link rel="prefetch" href="/Blog/assets/js/18.2fef5f51.js"><link rel="prefetch" href="/Blog/assets/js/19.a0cfd678.js"><link rel="prefetch" href="/Blog/assets/js/2.a005c6ef.js"><link rel="prefetch" href="/Blog/assets/js/20.8ead4e85.js"><link rel="prefetch" href="/Blog/assets/js/21.a9937e2c.js"><link rel="prefetch" href="/Blog/assets/js/22.65841d51.js"><link rel="prefetch" href="/Blog/assets/js/23.118c1034.js"><link rel="prefetch" href="/Blog/assets/js/24.6341382b.js"><link rel="prefetch" href="/Blog/assets/js/25.e61da5d9.js"><link rel="prefetch" href="/Blog/assets/js/26.2e996068.js"><link rel="prefetch" href="/Blog/assets/js/27.a8c225db.js"><link rel="prefetch" href="/Blog/assets/js/28.719ca100.js"><link rel="prefetch" href="/Blog/assets/js/29.51e01252.js"><link rel="prefetch" href="/Blog/assets/js/30.0b7b4e5f.js"><link rel="prefetch" href="/Blog/assets/js/31.3ae06f05.js"><link rel="prefetch" href="/Blog/assets/js/32.9b27f8c3.js"><link rel="prefetch" href="/Blog/assets/js/33.1d0d9371.js"><link rel="prefetch" href="/Blog/assets/js/34.2978b5f9.js"><link rel="prefetch" href="/Blog/assets/js/35.9e53eef6.js"><link rel="prefetch" href="/Blog/assets/js/36.95ac2bdf.js"><link rel="prefetch" href="/Blog/assets/js/37.a7c3847d.js"><link rel="prefetch" href="/Blog/assets/js/39.78eede81.js"><link rel="prefetch" href="/Blog/assets/js/4.edff7479.js"><link rel="prefetch" href="/Blog/assets/js/40.4f394f40.js"><link rel="prefetch" href="/Blog/assets/js/41.390544c5.js"><link rel="prefetch" href="/Blog/assets/js/42.8d7eaef5.js"><link rel="prefetch" href="/Blog/assets/js/43.1aaefb7c.js"><link rel="prefetch" href="/Blog/assets/js/44.32f6ab9c.js"><link rel="prefetch" href="/Blog/assets/js/45.313555f8.js"><link rel="prefetch" href="/Blog/assets/js/46.cf530717.js"><link rel="prefetch" href="/Blog/assets/js/47.172afe60.js"><link rel="prefetch" href="/Blog/assets/js/48.0da05bcd.js"><link rel="prefetch" href="/Blog/assets/js/49.50cd797a.js"><link rel="prefetch" href="/Blog/assets/js/5.c729ddd7.js"><link rel="prefetch" href="/Blog/assets/js/50.7b96e04b.js"><link rel="prefetch" href="/Blog/assets/js/51.0ad7687d.js"><link rel="prefetch" href="/Blog/assets/js/52.bfb69edd.js"><link rel="prefetch" href="/Blog/assets/js/53.b9bd4399.js"><link rel="prefetch" href="/Blog/assets/js/54.4e6c8aff.js"><link rel="prefetch" href="/Blog/assets/js/55.0f1d3fcb.js"><link rel="prefetch" href="/Blog/assets/js/56.65a502a1.js"><link rel="prefetch" href="/Blog/assets/js/57.4b9a90ca.js"><link rel="prefetch" href="/Blog/assets/js/58.cdd12c39.js"><link rel="prefetch" href="/Blog/assets/js/59.55278857.js"><link rel="prefetch" href="/Blog/assets/js/6.cd2dcd83.js"><link rel="prefetch" href="/Blog/assets/js/60.9bcb2892.js"><link rel="prefetch" href="/Blog/assets/js/61.5c1dc778.js"><link rel="prefetch" href="/Blog/assets/js/62.02990829.js"><link rel="prefetch" href="/Blog/assets/js/63.6037c33f.js"><link rel="prefetch" href="/Blog/assets/js/64.990a020f.js"><link rel="prefetch" href="/Blog/assets/js/65.a665b114.js"><link rel="prefetch" href="/Blog/assets/js/66.bd5d11e3.js"><link rel="prefetch" href="/Blog/assets/js/67.f9d50ee3.js"><link rel="prefetch" href="/Blog/assets/js/68.20e7c217.js"><link rel="prefetch" href="/Blog/assets/js/69.98580ae0.js"><link rel="prefetch" href="/Blog/assets/js/7.27a06f36.js"><link rel="prefetch" href="/Blog/assets/js/70.a2bf18fd.js"><link rel="prefetch" href="/Blog/assets/js/71.963822af.js"><link rel="prefetch" href="/Blog/assets/js/72.2e0f97fe.js"><link rel="prefetch" href="/Blog/assets/js/73.64adf5b7.js"><link rel="prefetch" href="/Blog/assets/js/74.081334df.js"><link rel="prefetch" href="/Blog/assets/js/75.6a9faf65.js"><link rel="prefetch" href="/Blog/assets/js/76.1c62da5e.js"><link rel="prefetch" href="/Blog/assets/js/77.977eb1db.js"><link rel="prefetch" href="/Blog/assets/js/78.8b35e995.js"><link rel="prefetch" href="/Blog/assets/js/8.d55cc11f.js"><link rel="prefetch" href="/Blog/assets/js/9.855870f8.js">
    <link rel="stylesheet" href="/Blog/assets/css/0.styles.e224ba88.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Blog/" class="home-link router-link-active"><!----> <span class="site-name">个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java全栈" class="dropdown-title"><span class="title">Java全栈</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java全栈" class="mobile-dropdown-title"><span class="title">Java全栈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Java/one/" class="nav-link">
  JavaSE
</a></li></ul></li><li class="dropdown-item"><h4>
          主流框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Spring5/one/" class="nav-link">
  Spring5
</a></li><li class="dropdown-subitem"><a href="/Blog/studynotes/SpringMVC/one/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-subitem"><a href="/Blog/studynotes/Mybatis/one/" class="nav-link">
  Mybatis
</a></li></ul></li><li class="dropdown-item"><h4>
          项目管理
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Maven/one/" class="nav-link">
  Maven
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/MySQL/one/" class="nav-link">
  MySQL
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="大数据" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Python/one/" class="nav-link">
  Python基础
</a></li><li class="dropdown-subitem"><a href="/Blog/studynotes/dataCleaning/one/" class="nav-link">
  数据分析
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/MySQL/one/" class="nav-link">
  MySQL
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="操作系统" class="dropdown-title"><span class="title">操作系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="操作系统" class="mobile-dropdown-title"><span class="title">操作系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/studynotes/Linux/one/" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试宝典" class="dropdown-title"><span class="title">面试宝典</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试宝典" class="mobile-dropdown-title"><span class="title">面试宝典</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/baodian/zero/" class="nav-link">
  初级开发篇
</a></li><li class="dropdown-item"><!----> <a href="/Blog/baodian/high/" class="nav-link">
  中高进阶篇
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具箱" class="mobile-dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          帮助手册
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://docs.oracle.com/javase/8/docs/api/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java SE 8参考手册
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://dev.mysql.com/doc/refman/5.7/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MySQL5.7参考手册
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线服务
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cloud.tencent.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          博客指南
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://juejin.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java全栈" class="dropdown-title"><span class="title">Java全栈</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java全栈" class="mobile-dropdown-title"><span class="title">Java全栈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Java/one/" class="nav-link">
  JavaSE
</a></li></ul></li><li class="dropdown-item"><h4>
          主流框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Spring5/one/" class="nav-link">
  Spring5
</a></li><li class="dropdown-subitem"><a href="/Blog/studynotes/SpringMVC/one/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-subitem"><a href="/Blog/studynotes/Mybatis/one/" class="nav-link">
  Mybatis
</a></li></ul></li><li class="dropdown-item"><h4>
          项目管理
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Maven/one/" class="nav-link">
  Maven
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/MySQL/one/" class="nav-link">
  MySQL
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="大数据" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/Python/one/" class="nav-link">
  Python基础
</a></li><li class="dropdown-subitem"><a href="/Blog/studynotes/dataCleaning/one/" class="nav-link">
  数据分析
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Blog/studynotes/MySQL/one/" class="nav-link">
  MySQL
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="操作系统" class="dropdown-title"><span class="title">操作系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="操作系统" class="mobile-dropdown-title"><span class="title">操作系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/studynotes/Linux/one/" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试宝典" class="dropdown-title"><span class="title">面试宝典</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试宝典" class="mobile-dropdown-title"><span class="title">面试宝典</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/baodian/zero/" class="nav-link">
  初级开发篇
</a></li><li class="dropdown-item"><!----> <a href="/Blog/baodian/high/" class="nav-link">
  中高进阶篇
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具箱" class="mobile-dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          帮助手册
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://docs.oracle.com/javase/8/docs/api/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java SE 8参考手册
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://dev.mysql.com/doc/refman/5.7/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MySQL5.7参考手册
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线服务
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cloud.tencent.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          博客指南
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://juejin.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前奏</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Numpy库</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Blog/studynotes/dataCleaning/01.html" aria-current="page" class="active sidebar-link">1. Numpy库介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_1-1-安装" class="sidebar-link">1.1 安装</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_1-2-教程地址" class="sidebar-link">1.2 教程地址</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_1-3-numpy数组和python列表性能对比" class="sidebar-link">1.3 Numpy数组和Python列表性能对比</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_2-1-numpy中的数组" class="sidebar-link">2.1 numpy中的数组</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_2-2-创建数组-np-ndarray对象" class="sidebar-link">2.2 创建数组（np.ndarray对象）</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_2-3-ndarray常用属性" class="sidebar-link">2.3 ndarray常用属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#ndarray-dtype" class="sidebar-link">ndarray.dtype</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#ndarray-size" class="sidebar-link">ndarray.size</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#ndarray-ndim" class="sidebar-link">ndarray.ndim</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#ndarray-shape" class="sidebar-link">ndarray.shape</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#ndarray-itemsize" class="sidebar-link">ndarray.itemsize</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_3-1-索引和切片" class="sidebar-link">3.1 索引和切片</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_3-2-布尔索引" class="sidebar-link">3.2 布尔索引</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_3-3-值的替换" class="sidebar-link">3.3 值的替换</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_3-4-数组广播机制" class="sidebar-link">3.4 数组广播机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_3-4-1-数组与数的计算" class="sidebar-link">3.4.1 数组与数的计算</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_3-4-2-数组与数组的计算" class="sidebar-link">3.4.2 数组与数组的计算</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_3-4-3-广播原则" class="sidebar-link">3.4.3 广播原则</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_3-5-数组形状的操作" class="sidebar-link">3.5 数组形状的操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_3-5-1-reshape和resize方法" class="sidebar-link">3.5.1 reshape和resize方法</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_3-5-2-flatten和ravel方法" class="sidebar-link">3.5.2 flatten和ravel方法</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_3-5-3-不同数组的组合" class="sidebar-link">3.5.3 不同数组的组合</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_3-2-4-数组的切割" class="sidebar-link">3.2.4 数组的切割</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_3-6-数组-矩阵-转置和轴对换" class="sidebar-link">3.6 数组（矩阵）转置和轴对换</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_4-1-不拷贝" class="sidebar-link">4.1 不拷贝</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_4-2-view或者浅拷贝" class="sidebar-link">4.2 View或者浅拷贝</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_4-3-深拷贝" class="sidebar-link">4.3 深拷贝</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_4-4-例子" class="sidebar-link">4.4 例子</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_5-1-操作csv文件" class="sidebar-link">5.1 操作CSV文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_5-1-1-文件保存" class="sidebar-link">5.1.1 文件保存</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_5-1-2-读取文件" class="sidebar-link">5.1.2 读取文件</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_5-2-np独有的存储解决方案" class="sidebar-link">5.2 np独有的存储解决方案</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_6-1读取csv文件" class="sidebar-link">6.1读取csv文件</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_6-2-写入数据到csv文件" class="sidebar-link">6.2 写入数据到csv文件</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_7-1-nan一些特点" class="sidebar-link">7.1 NAN一些特点</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_7-2-删除缺失值" class="sidebar-link">7.2 删除缺失值</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_7-3-用其他值进行替代" class="sidebar-link">7.3 用其他值进行替代</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#np-random-seed" class="sidebar-link">np.random.seed</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#np-random-rand" class="sidebar-link">np.random.rand</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#np-random-randn" class="sidebar-link">np.random.randn</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#np-random-randint" class="sidebar-link">np.random.randint</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#np-random-choice" class="sidebar-link">np.random.choice</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#np-random-shuffle" class="sidebar-link">np.random.shuffle</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#更多" class="sidebar-link">更多：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_9-1-三维以上数组" class="sidebar-link">9.1 三维以上数组</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_10-1-一元函数" class="sidebar-link">10.1 一元函数</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_10-2-二元函数" class="sidebar-link">10.2 二元函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_10-2-1-聚合函数" class="sidebar-link">10.2.1 聚合函数</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_10-2-2-布尔数组的函数" class="sidebar-link">10.2.2 布尔数组的函数</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_10-2-3-排序" class="sidebar-link">10.2.3 排序</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#_10-2-4-其他函数补充" class="sidebar-link">10.2.4 其他函数补充</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#更多-2" class="sidebar-link">更多：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#一、查看numpy的版本号" class="sidebar-link">一、查看Numpy的版本号：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#二、如何创建一个所有值都是false的布尔类型的数组" class="sidebar-link">二、如何创建一个所有值都是False的布尔类型的数组：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#三、将一个有10个数的数组的形状进行转换" class="sidebar-link">三、将一个有10个数的数组的形状进行转换：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#四、将数组中所有偶数都替换成0-改变原来数组和不改变原来数组两种方式实现" class="sidebar-link">四、将数组中所有偶数都替换成0（改变原来数组和不改变原来数组两种方式实现）：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#五、创建一个一维且有10个数的数组-元素是从0-1之间-但是不包含0和1" class="sidebar-link">五、创建一个一维且有10个数的数组，元素是从0-1之间，但是不包含0和1：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#六、求以下数组大于等于5并且小于等于10的数组" class="sidebar-link">六、求以下数组大于等于5并且小于等于10的数组：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#七、将一个二维数组的行和列分别进行逆向" class="sidebar-link">七、将一个二维数组的行和列分别进行逆向：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#八、如何将科学计数法转换为浮点类型打印" class="sidebar-link">八、如何将科学计数法转换为浮点类型打印：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#九、获取一个数组中唯一的元素" class="sidebar-link">九、获取一个数组中唯一的元素：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#十、获取一个数组中唯一的元素个数的排行" class="sidebar-link">十、获取一个数组中唯一的元素个数的排行：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#十一、如何找到数组中每行的最大值" class="sidebar-link">十一、如何找到数组中每行的最大值：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#十二、如何按照行求最小值与最大值相除的结果" class="sidebar-link">十二、如何按照行求最小值与最大值相除的结果：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#十三、判断两个数组是否完全相等" class="sidebar-link">十三、判断两个数组是否完全相等：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#十四、设置一个数组不能修改值" class="sidebar-link">十四、设置一个数组不能修改值：</a></li><li class="sidebar-sub-header"><a href="/Blog/studynotes/dataCleaning/01.html#十五、找到数组中离某个元素的最近的值" class="sidebar-link">十五、找到数组中离某个元素的最近的值：</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1-numpy库介绍"><a href="#_1-numpy库介绍" class="header-anchor">#</a> 1. Numpy库介绍</h1> <p><code>NumPy</code>是一个功能强大的<code>Python</code>库，主要用于对多维数组执行计算。<code>NumPy</code>这个词来源于两个单词-- <code>Numerical</code>和<code>Python</code>。<code>NumPy</code>提供了大量的库函数和操作，可以帮助程序员轻松地进行数值计算。在数据分析和机器学习领域被广泛使用。他有以下几个特点：</p> <ol><li>numpy内置了并行运算功能，当系统有多个核心时，做某种计算时，numpy会自动做并行计算。</li> <li>Numpy底层使用C语言编写，内部解除了GIL（全局解释器锁），其对数组的操作速度不受Python解释器的限制，效率远高于纯Python代码。</li> <li>有一个强大的N维数组对象Array（一种类似于列表的东西）。</li> <li>实用的线性代数、傅里叶变换和随机数生成函数。</li></ol> <p>总而言之，他是一个非常高效的用于处理数值型运算的包。</p> <h2 id="_1-1-安装"><a href="#_1-1-安装" class="header-anchor">#</a> 1.1 安装</h2> <p>通过<code>pip install numpy</code>即可安装。</p> <h2 id="_1-2-教程地址"><a href="#_1-2-教程地址" class="header-anchor">#</a> 1.2 教程地址</h2> <ol><li>官网：<code>https://docs.scipy.org/doc/numpy/user/quickstart.html</code>。</li> <li>中文文档：<code>https://www.numpy.org.cn/user_guide/quickstart_tutorial/index.html</code>。</li></ol> <h2 id="_1-3-numpy数组和python列表性能对比"><a href="#_1-3-numpy数组和python列表性能对比" class="header-anchor">#</a> 1.3 Numpy数组和Python列表性能对比</h2> <p>比如我们想要对一个Numpy数组和Python列表中的每个素进行求平方。那么代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/13 15:29
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> time
<span class="token comment"># Python列表的方式</span>
t1 <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    a<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span>
t2 <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
t <span class="token operator">=</span> t2 <span class="token operator">-</span> t1
<span class="token keyword">print</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>花费的时间大约是<code>0.07180</code>左右。而如果使用<code>numpy</code>的数组来做，那速度就要快很多了：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>t3 <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span>
t4 <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t4<span class="token operator">-</span>t3<span class="token punctuation">)</span> <span class="token comment">#0.001</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h1 id="_2-numpy数组基本用法"><a href="#_2-numpy数组基本用法" class="header-anchor">#</a> 2. NumPy数组基本用法</h1> <ol><li><code>Numpy</code>是<code>Python</code>科学计算库，用于快速处理任意维度的数组。</li> <li><code>NumPy</code>提供一个<strong>N维数组类型ndarray</strong>，它描述了<strong>相同类型</strong>的“items”的集合。</li> <li><code>numpy.ndarray</code>支持向量化运算。</li> <li><code>NumPy</code>使用c语言写的，底部解除了<code>GIL</code>，其对数组的操作速度不在受<code>python</code>解释器限制。</li></ol> <h2 id="_2-1-numpy中的数组"><a href="#_2-1-numpy中的数组" class="header-anchor">#</a> 2.1 numpy中的数组</h2> <p><code>Numpy</code>中的数组的使用跟<code>Python</code>中的列表非常类似。他们之间的区别如下：</p> <ol><li><strong>一个列表中可以存储多种数据类型。比如<code>a = [1,'a']</code>是允许的，而数组只能存储同种数据类型。</strong></li> <li><strong>数组可以是多维的，当多维数组中所有的数据都是数值类型的时候，相当于线性代数中的矩阵，是可以进行相互间的运算的。</strong></li></ol> <h2 id="_2-2-创建数组-np-ndarray对象"><a href="#_2-2-创建数组-np-ndarray对象" class="header-anchor">#</a> 2.2 创建数组（np.ndarray对象）</h2> <p><code>Numpy</code>经常和数组打交道，因此首先第一步是要学会创建数组。在<code>Numpy</code>中的数组的数据类型叫做<code>ndarray</code>。以下是两种创建的方式：</p> <ol><li><p>根据<code>Python</code>中的列表生成：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/13 15:39
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
a1<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span>          <span class="token comment">#[1 2 3 4]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">#&lt;class 'numpy.ndarray'&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>使用<code>np.arange</code>生成，<code>np.arange</code>的用法类似于<code>Python</code>中的<code>range</code>：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a2 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>使用<code>np.random</code>生成随机数的数组：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># 生成2行2列的随机数的数组</span>
a2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 元素是从0-10之间随机的3行3列的数组</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>使用函数生成特殊的数组：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/13 15:56
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#生成一个所有元素都是0的2行2列的数组</span>
a2 <span class="token operator">=</span> np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#生成一个所有元素都是1的3行2列的数组</span>
a3 <span class="token operator">=</span> np<span class="token punctuation">.</span>full<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token comment">#生成一个所有元素都是8的2行2列的数组</span>
a4 <span class="token operator">=</span> np<span class="token punctuation">.</span>eye<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">#生成一个在斜方形上元素为1，其他元素都为0的3x3的矩阵</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a4<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ol> <p><code>总结:</code></p> <ol><li><font color="#DC4040" size="4" face="黑体">数组中的数据类型都是一致的，要么是整形，要么是浮点型，要么是字符串类型，不能同时出现多种数据类型。</font></li> <li>创建数组的四种方式
<ul><li><font color="#DC4040" size="4" face="黑体">使用np.array来创建</font></li> <li><font color="#DC4040" size="4" face="黑体">使用np.random模块来创建</font></li> <li><font color="#DC4040" size="4" face="黑体">使用np.arange来创建一个区间的数组</font></li> <li><font color="#DC4040" size="4" face="黑体">使用np上面的一些特殊函数来创建</font></li></ul></li></ol> <h2 id="_2-3-ndarray常用属性"><a href="#_2-3-ndarray常用属性" class="header-anchor">#</a> 2.3 ndarray常用属性</h2> <h3 id="ndarray-dtype"><a href="#ndarray-dtype" class="header-anchor">#</a> <code>ndarray.dtype</code></h3> <p>因为数组中只能存储同一种数据类型，因此可以通过<code>dtype</code>获取数组中的元素的数据类型。以下是<code>ndarray.dtype</code>的常用的数据类型：</p> <table><thead><tr><th>数据类型</th> <th>描述</th> <th>唯一标识符</th></tr></thead> <tbody><tr><td>bool</td> <td>用一个字节存储的布尔类型（True或False）</td> <td>'b'</td></tr> <tr><td>int8</td> <td>一个字节大小，-128 至 127</td> <td>'i1'</td></tr> <tr><td>int16</td> <td>整数，16 位整数(-32768 ~ 32767)</td> <td>'i2'</td></tr> <tr><td>int32</td> <td>整数，32 位整数(-2147483648 ~ 2147483647)</td> <td>'i4'</td></tr> <tr><td>int64</td> <td>整数，64 位整数(-9223372036854775808 ~ 9223372036854775807)</td> <td>'i8'</td></tr> <tr><td>uint8</td> <td>无符号整数，0 至 255</td> <td>'u1'</td></tr> <tr><td>uint16</td> <td>无符号整数，0 至 65535</td> <td>'u2'</td></tr> <tr><td>uint32</td> <td>无符号整数，0 至 2 ** 32 - 1</td> <td>'u4'</td></tr> <tr><td>uint64</td> <td>无符号整数，0 至 2 ** 64 - 1</td> <td>'u8'</td></tr> <tr><td>float16</td> <td>半精度浮点数：16位，正负号1位，指数5位，精度10位</td> <td>'f2'</td></tr> <tr><td>float32</td> <td>单精度浮点数：32位，正负号1位，指数8位，精度23位</td> <td>'f4'</td></tr> <tr><td>float64</td> <td>双精度浮点数：64位，正负号1位，指数11位，精度52位</td> <td>'f8'</td></tr> <tr><td>complex64</td> <td>复数，分别用两个32位浮点数表示实部和虚部</td> <td>'c8'</td></tr> <tr><td>complex128</td> <td>复数，分别用两个64位浮点数表示实部和虚部</td> <td>'c16'</td></tr> <tr><td>object_</td> <td>python对象</td> <td>'O'</td></tr> <tr><td>string_</td> <td>字符串</td> <td>'S'</td></tr> <tr><td>unicode_</td> <td>unicode类型</td> <td>'U'</td></tr></tbody></table> <ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/13 20:15
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
b<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>int8<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>       <span class="token comment">#[1 2 3 4 5]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span> <span class="token comment">#int8</span>

c<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>float16<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>       <span class="token comment">#[1. 2. 3. 4. 5.]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span> <span class="token comment">#float16</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name<span class="token operator">=</span>name
        self<span class="token punctuation">.</span>age<span class="token operator">=</span>age
d<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>Person<span class="token punctuation">(</span><span class="token string">'知了'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Person<span class="token punctuation">(</span><span class="token string">'蝈蝈'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token comment">#[&lt;__main__.Person object at 0x000002E8349081F0&gt;</span>
         <span class="token comment">#&lt;__main__.Person object at 0x000002E83472C280&gt;]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span> <span class="token comment">#object</span>

f<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span><span class="token string">'S'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>           <span class="token comment">#[b'a' b'b']</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>     <span class="token comment">#|S1       String</span>

e<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span><span class="token string">'U'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>           <span class="token comment">#['a' 'c']</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>     <span class="token comment">#&lt;U1       Unicode</span>

uf<span class="token operator">=</span>f<span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">'U'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>uf<span class="token punctuation">)</span>            <span class="token comment">#['a' 'b']</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>uf<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>      <span class="token comment">#&lt;U1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>       <span class="token comment">#|S1</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>我们可以看到，<code>Numpy</code>中关于数值的类型比<code>Python</code>内置的多得多，这是因为<code>Numpy</code>为了能高效处理处理海量数据而设计的。举个例子，比如现在想要存储上百亿的数字，并且这些数字都不超过254（一个字节内），我们就可以将<code>dtype</code>设置为<code>int8</code>，这样就比默认使用<code>int64</code>更能节省内存空间了。类型相关的操作如下：</p> <ol><li><p>默认的数据类型：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span> 
<span class="token comment"># 如果是windows系统，默认是int32</span>
<span class="token comment"># 如果是mac或者linux系统，则根据系统来</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>指定<code>dtype</code>：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>int64<span class="token punctuation">)</span>
<span class="token comment"># 或者 a1 = np.array([1,2,3],dtype=&quot;i8&quot;)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>修改<code>dtype</code>：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span> <span class="token comment"># window系统下默认是int32</span>
<span class="token comment"># 以下修改dtype</span>
a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>int64<span class="token punctuation">)</span> <span class="token comment"># astype不会修改数组本身，而是会将修改后的结果返回</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ol> <p><code>总结</code>:</p> <ol><li>为什么Numpy的数组中有这么多的数据类型呢?
<ul><li><font color="#DC4040" size="4" face="黑体">Numpy本身基于C语言编写，C语言本身就是有很多数据类型，所以直接引用过来了。</font></li> <li><font color="#DC4040" size="4" face="黑体">Numpy为了考虑到处理海量数据的性能，针对不同的数据给不同的数据类型，来节省内存空间，所以有不同的数据类型。</font></li></ul></li> <li>Numpy的数组的元素有哪些数据类型?  看上图</li> <li><font color="#DC4040" size="4" face="黑体">使用ndarray.astype可以修改数组元素的数据类型。</font></li></ol> <h3 id="ndarray-size"><a href="#ndarray-size" class="header-anchor">#</a> <code>ndarray.size</code></h3> <p>获取数组中总的元素的个数。比如有个二维数组：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>   <span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
   a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token comment">#打印的是6，因为总共有6个元素</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="ndarray-ndim"><a href="#ndarray-ndim" class="header-anchor">#</a> <code>ndarray.ndim</code></h3> <p>数组的维数。比如：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>   a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>ndim<span class="token punctuation">)</span> <span class="token comment"># 维度为1</span>
   a2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">.</span>ndim<span class="token punctuation">)</span> <span class="token comment"># 维度为2</span>
   a3 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">.</span>ndim<span class="token punctuation">)</span> <span class="token comment"># 维度为3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="ndarray-shape"><a href="#ndarray-shape" class="header-anchor">#</a> <code>ndarray.shape</code></h3> <p>数组的维度的元组。比如以下代码：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>   a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>shape<span class="token punctuation">)</span> <span class="token comment"># 输出(3,)，意思是一维数组，有3个数据</span>

   a2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">.</span>shape<span class="token punctuation">)</span> <span class="token comment"># 输出(2,3)，意思是二位数组，2行3列</span>

   a3 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>
       <span class="token punctuation">[</span>
           <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
           <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
       <span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span>
           <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
           <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span>
       <span class="token punctuation">]</span>
   <span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">.</span>shape<span class="token punctuation">)</span> <span class="token comment"># 输出(2,2,3)，意思是三维数组，总共有2个元素，每个元素是2行3列的</span>

   a44 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>a4<span class="token punctuation">.</span>shape<span class="token punctuation">)</span> <span class="token comment"># 输出(2,)，意思是a4是一个一维数组，总共有2列</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>a4<span class="token punctuation">)</span> <span class="token comment"># 输出[list([1, 2, 3]) list([4, 5])]，其中最外面层是数组，里面是Python列表</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>另外，我们还可以通过<code>ndarray.reshape</code>来重新修改数组的维数。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>   a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token comment">#生成一个有12个数据的一维数组</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span> 

   a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#变成一个2维数组，是3行4列的</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>

   a3 <span class="token operator">=</span> a1<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#变成一个3维数组，总共有2块，每一块是2行2列的</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span>

   a4 <span class="token operator">=</span> a2<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 将a2的二维数组重新变成一个12列的1维数组</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>a4<span class="token punctuation">)</span>

   a5 <span class="token operator">=</span> a2<span class="token punctuation">.</span>flatten<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 不管a2是几维数组，都将他变成一个一维数组</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>a5<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/14 16:25
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
a1<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>ndim<span class="token punctuation">)</span>  <span class="token comment">#1</span>
a2<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">.</span>ndim<span class="token punctuation">)</span>  <span class="token comment">#2</span>
a3<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">.</span>ndim<span class="token punctuation">)</span> <span class="token comment">#3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>shape<span class="token punctuation">)</span> <span class="token comment">#(3,)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">.</span>shape<span class="token punctuation">)</span> <span class="token comment">#(2, 3)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">.</span>shape<span class="token punctuation">)</span> <span class="token comment">#(2,2,3) 几维几行几列</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#保证元素个数不变</span>
<span class="token comment"># print(a3.reshape(1,12)) #两维 一行</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#转换为一维数组</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">.</span>flatten<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">#调用函数生成一维数组</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>注意，<code>reshape</code>并不会修改原来数组本身，而是会将修改后的结果返回。如果想要直接修改数组本身，那么可以使用<code>resize</code>来替代<code>reshape</code>。</p> <h3 id="ndarray-itemsize"><a href="#ndarray-itemsize" class="header-anchor">#</a> <code>ndarray.itemsize</code></h3> <p>数组中每个元素占的大小，单位是字节。比如以下代码：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>   a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>int32<span class="token punctuation">)</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>itemsize<span class="token punctuation">)</span> <span class="token comment"># 打印4，因为每个字节是8位，32位/8=4个字节</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>总结</code></p> <ol><li><font color="#DC4040" size="4" face="黑体">数组一般达到3维就已经很复杂了，不太方便计算，所以我们一般都会把3维以上的数组转换成2维数组来计算</font></li> <li><font color="#DC4040" size="4" face="黑体">通过ndarray.ndim可以看到数组的维度</font></li> <li><font color="#DC4040" size="4" face="黑体">通过ndarray.shape可以看到数组的形状(几行几列),shape是一个元组,里面有几个元素代表是几维数组</font></li> <li><font color="#DC4040" size="4" face="黑体">通过ndarray.reshape可以修改数组的形状,条件只有一个,就是修改后的形状的元素个数必须和原来的个数一致。比如原来是(2,6)，那么修改完成后可以变成(3,4)，但是不能变成(1,4)。reshape不会修改原来数组的形状,他只会将修改后的结果返回。</font></li> <li><font color="#DC4040" size="4" face="黑体">通过ndarray.size可以看到数组总共有多少个元素。</font></li> <li><font color="#DC4040" size="4" face="黑体">通过ndarray.itemsize可以看到数组中每个元素所占内存的大小,单位是字节。(一个字节=8位)</font></li></ol> <h1 id="_3-numpy数组操作"><a href="#_3-numpy数组操作" class="header-anchor">#</a> 3. Numpy数组操作</h1> <h2 id="_3-1-索引和切片"><a href="#_3-1-索引和切片" class="header-anchor">#</a> 3.1 索引和切片</h2> <ol><li><p>获取某行的数据：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> <span class="token comment"># 1. 如果是一维数组</span>
 a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">)</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#获取下标为1的元素</span>

 a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#获取下标为1的行的数据</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>连续获取某几行的数据：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> <span class="token comment"># 1. 获取连续的几行的数据</span>
 a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#获取0行到1行的数据</span>

 <span class="token comment"># 2. 获取不连续的几行的数据</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

 <span class="token comment"># 3. 也可以使用负数进行索引</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>获取某行某列的数据：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#获取1行1列的数据</span>

 <span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#获取0-1行的0-1列的数据</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#获取(1,2)和(2,3)的两个数据，这也叫花式索引</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>获取某列的数据：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#获取第1列的数据</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol> <ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/16 16:00
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token comment">#一维数组的索引和切片</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
a1<span class="token operator">=</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token comment">#1.1进行索引操作</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment">#4</span>
<span class="token comment">#1.2进行切片操作</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#[4 5]</span>
<span class="token comment">#1.3使用步长</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">#[0 2 4 6 8]</span>
<span class="token comment">#1.4使用负数来作为索引</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#9</span>

<span class="token comment">#2.多维数组</span>
<span class="token comment">#也是通过中括号来索引和切片.在中括号中,使用逗号进行分割，逗号前面的是行，</span>
<span class="token comment">#逗号后面的是列，如果多维数组中只有一个值，那么这个值就是行</span>

a2<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#获取2到3行数组</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#获取第2行第5列 和第3行第6列</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment">#获取第1 2 行的 4 5 列</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment">#获取第一列的数据</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#获取1 3列的数据</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p><code>总结:</code></p> <ol><li><font color="#DC4040" size="4" face="黑体">如果数组是一维的，那么索引和切片就是跟python的列表是一样的。</font></li> <li><font color="#DC4040" size="4" face="黑体">如果是多维的(这里以二维为例)，那么在中括号中，给两个值，两个值是通过逗号分割的，逗号前面是行，逗号后面是列。如果中括号中只有一个值,那么就是代表的是行。</font></li> <li><font color="#DC4040" size="4" face="黑体">如果是多维数组(这里以二维为例),那么行的部分和列的部分，都是遵循一维度数组的方式，可以使用整形,切片，还可以使用中括号的形式来代表不连续的。比如a[[1,2],[3,4]]，那么返回的是(1,3),(2,4)的两个值。</font></li></ol> <h2 id="_3-2-布尔索引"><a href="#_3-2-布尔索引" class="header-anchor">#</a> 3.2 布尔索引</h2> <p>布尔运算也是矢量的，比如以下代码：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">#会返回一个新的数组，这个数组中的值全部都是bool类型</span>
<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token boolean">True</span>  <span class="token boolean">True</span>  <span class="token boolean">True</span>  <span class="token boolean">True</span>  <span class="token boolean">True</span>  <span class="token boolean">True</span><span class="token punctuation">]</span>
 <span class="token punctuation">[</span> <span class="token boolean">True</span>  <span class="token boolean">True</span>  <span class="token boolean">True</span>  <span class="token boolean">True</span> <span class="token boolean">False</span> <span class="token boolean">False</span><span class="token punctuation">]</span>
 <span class="token punctuation">[</span><span class="token boolean">False</span> <span class="token boolean">False</span> <span class="token boolean">False</span> <span class="token boolean">False</span> <span class="token boolean">False</span> <span class="token boolean">False</span><span class="token punctuation">]</span>
 <span class="token punctuation">[</span><span class="token boolean">False</span> <span class="token boolean">False</span> <span class="token boolean">False</span> <span class="token boolean">False</span> <span class="token boolean">False</span> <span class="token boolean">False</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>这样看上去没有什么用，假如我现在要实现一个需求，要将<code>a1</code>数组中所有小于10的数据全部都提取出来。那么可以使用以下方式实现：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a2 <span class="token operator">=</span> a1 <span class="token operator">&lt;</span> <span class="token number">10</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span>a2<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#这样就会在a1中把a2中为True的元素对应的位置的值提取出来</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>其中布尔运算可以有<code>!=</code>、<code>==</code>、<code>&gt;</code>、<code>&lt;</code>、<code>&gt;=</code>、<code>&lt;=</code>以及<code>&amp;(与)</code>和<code>|(或)</code>。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a2 <span class="token operator">=</span> a1<span class="token punctuation">[</span><span class="token punctuation">(</span>a1 <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>a1 <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/19 14:26
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span>  numpy <span class="token keyword">as</span> np
a2<span class="token operator">=</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">[</span>a2<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">#获取元素小于10的数组</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">[</span><span class="token punctuation">(</span>a2<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">|</span><span class="token punctuation">(</span>a2<span class="token operator">&gt;</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><code>总结</code>:</p> <p>​	<font color="#DC4040" size="4" face="黑体">布尔索引是通过相同数组上的True还是False来进行提取的。提取条件可以有多个，那么如果有多个，可以使用&amp;来代替且，用|来代替或，如果有多个条件，那么每个条件要使用圆括号括起来。</font></p> <h2 id="_3-3-值的替换"><a href="#_3-3-值的替换" class="header-anchor">#</a> 3.3 值的替换</h2> <p>利用索引，也可以做一些值的替换。把满足条件的位置的值替换成其他的值。比如以下代码：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a1<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">#将第三行的所有值都替换成0</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>也可以使用条件索引来实现：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a1<span class="token punctuation">[</span>a1 <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">#将小于5的所有值全部都替换成0</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>还可以使用函数来实现：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># where函数：</span>
a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a2 <span class="token operator">=</span> np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>a1 <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#把a1中所有小于10的数全部变成1，其余的变成0</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/19 14:46
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
a3<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span>
a3<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span> <span class="token comment">#把a3第二行变为0</span>
a3<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#把a3的第三行换成1,2,3,4,5</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span>
a3<span class="token punctuation">[</span>a3<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span>  <span class="token comment">#把元素小于3的全部替换为1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span>
a3<span class="token operator">=</span>np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>a3<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment"># 把a3小于10的 全部替换为1 其余为0</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><code>总结</code>:</p> <ol><li>​	<font color="#DC4040" size="4" face="黑体">可以使用索引或者切片来替换。</font></li> <li>​	<font color="#DC4040" size="4" face="黑体">使用条件索引来替换。</font></li> <li>​	<font color="#DC4040" size="4" face="黑体">使用where函数来实现。</font></li></ol> <h2 id="_3-4-数组广播机制"><a href="#_3-4-数组广播机制" class="header-anchor">#</a> 3.4 数组广播机制</h2> <h3 id="_3-4-1-数组与数的计算"><a href="#_3-4-1-数组与数的计算" class="header-anchor">#</a> 3.4.1 数组与数的计算</h3> <p>在<code>Python</code>列表中，想要对列表中所有的元素都加一个数，要么采用<code>map</code>函数，要么循环整个列表进行操作。但是<code>NumPy</code>中的数组可以直接在数组上进行操作。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span>
<span class="token comment"># 如果想要在a1数组上所有元素都乘以10，那么可以通过以下来实现</span>
a2 <span class="token operator">=</span> a1<span class="token operator">*</span><span class="token number">10</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
<span class="token comment"># 也可以使用round让所有的元素只保留2位小数</span>
a3 <span class="token operator">=</span> a2<span class="token punctuation">.</span><span class="token builtin">round</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>以上例子是相乘，其实相加、相减、相除也都是类似的。</p> <h3 id="_3-4-2-数组与数组的计算"><a href="#_3-4-2-数组与数组的计算" class="header-anchor">#</a> 3.4.2 数组与数组的计算</h3> <ol><li><p>结构相同的数组之间的运算：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a3 <span class="token operator">=</span> a1 <span class="token operator">+</span> a2 <span class="token comment">#相减/相除/相乘都是可以的</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>与行数相同并且只有1列的数组之间的运算：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#3行8列</span>
a2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#3行1列</span>
a3 <span class="token operator">=</span> a1 <span class="token operator">-</span> a2 <span class="token comment">#行数相同，且a2只有1列，能互相运算</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>与列数相同并且只有1行的数组之间的运算：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#3行8列</span>
a2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a3 <span class="token operator">=</span> a1 <span class="token operator">-</span> a2
<span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ol> <h3 id="_3-4-3-广播原则"><a href="#_3-4-3-广播原则" class="header-anchor">#</a> 3.4.3 广播原则</h3> <p><strong>如果两个数组的后缘维度（trailing dimension，即从末尾开始算起的维度）的轴长度相符或其中一方的长度为1，则认为他们是广播兼容的。广播会在缺失和（或）长度为1的维度上进行。</strong>。看以下案例分析：</p> <ol><li><code>shape</code>为<code>(3,8,2)</code>的数组能和<code>(8,3)</code>的数组进行运算吗？<br>
分析：不能，因为按照广播原则，从后面往前面数，<code>(3,8,2)</code>和<code>(8,3)</code>中的<code>2</code>和<code>3</code>不相等，所以不能进行运算。</li> <li><code>shape</code>为<code>(3,8,2)</code>的数组能和<code>(8,1)</code>的数组进行运算吗？<br>
分析：能，因为按照广播原则，从后面往前面数，<code>(3,8,2)</code>和<code>(8,1)</code>中的<code>2</code>和<code>1</code>虽然不相等，但是因为有一方的长度为<code>1</code>，所以能参与运算。</li> <li><code>shape</code>为<code>(3,1,8)</code>的数组能和<code>(8,1)</code>的数组进行运算吗？<br>
分析：能，因为按照广播原则，从后面往前面数，<code>(3,1,4)</code>和<code>(8,1)</code>中的<code>4</code>和<code>1</code>虽然不相等且<code>1</code>和<code>8</code>不相等，但是因为这两项中有一方的长度为<code>1</code>，所以能参与运算。</li></ol> <hr> <ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/19 15:31
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
a1<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>
a2<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token operator">+</span>a2<span class="token punctuation">)</span>

a3<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token operator">+</span>a3<span class="token punctuation">)</span> <span class="token comment">#a1的每一列 都加a3</span>

a4<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a4<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token operator">+</span>a4<span class="token punctuation">)</span> <span class="token comment">#a1的 每一行 都加a4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>总结`:</p> <ol><li><font color="#DC4040" size="4" face="黑体">数组和数字直接进行运算是没有问题的。</font></li> <li><font color="#DC4040" size="4" face="黑体">两个shape相同的数组是可以进行运算的。</font></li> <li><font color="#DC4040" size="4" face="黑体">如果两个shape不同的数组，想要进行运算，那么需要看他们是否满足广播原则。</font></li> <li><font color="#DC4040" size="4" face="黑体">广播原则:<strong>如果两个数组的后缘维度（trailing dimension，即从末尾开始算起的维度）的轴长度相符或其中一方的长度为1，则认为他们是广播兼容的。广播会在缺失和（或）长度为1的维度上进行</strong>。</font></li></ol> <h2 id="_3-5-数组形状的操作"><a href="#_3-5-数组形状的操作" class="header-anchor">#</a> 3.5 数组形状的操作</h2> <p>可以通过一些函数，非常方便的操作数组的形状。</p> <h3 id="_3-5-1-reshape和resize方法"><a href="#_3-5-1-reshape和resize方法" class="header-anchor">#</a> 3.5.1 reshape和resize方法</h3> <p>两个方法都是用来修改数组形状的，但是有一些不同。</p> <ol><li><p><code>reshape</code>是将数组转换成指定的形状，然后返回转换后的结果，对于原数组的形状是不会发生改变的。调用方式：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#将修改后的结果返回，不会影响原数组本身</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p><code>resize</code>是将数组转换成指定的形状，会直接修改数组本身。并不会返回任何值。调用方式：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a1<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#a1本身发生了改变</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol> <h3 id="_3-5-2-flatten和ravel方法"><a href="#_3-5-2-flatten和ravel方法" class="header-anchor">#</a> 3.5.2 flatten和ravel方法</h3> <p>两个方法都是将多维数组转换为一维数组，但是有以下不同：</p> <ol><li><code>flatten</code>是将数组转换为一维数组后，然后将这个拷贝返回回去，所以后续对这个返回值进行修改不会影响之前的数组。</li> <li><code>ravel</code>是将数组转换为一维数组后，将这个视图（可以理解为引用）返回回去，所以后续对这个返回值进行修改会影响之前的数组。<br>
比如以下代码：</li></ol> <div class="language-python line-numbers-mode"><pre class="language-python"><code>x <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
x<span class="token punctuation">.</span>flatten<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span> <span class="token comment">#此时的x[0]的位置元素还是1</span>
x<span class="token punctuation">.</span>ravel<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span> <span class="token comment">#此时x[0]的位置元素是100</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/19 18:44
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span>  numpy <span class="token keyword">as</span> np
a1<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#本身没有改变 转换为2行6列</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#没有返回值</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span>

<span class="token comment">#flaten和ravel函数</span>
a2<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">.</span>flatten<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#[8 9 7 8 4 7 9 9 1 5 9 0]</span>
a3<span class="token operator">=</span>a2<span class="token punctuation">.</span>flatten<span class="token punctuation">(</span><span class="token punctuation">)</span>
a3<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">100</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>           <span class="token comment">#返回不会修改原来的数组</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">.</span>ravel<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">#[9 1 8 7 2 2 5 4 4 9 6 9]</span>
a3<span class="token operator">=</span>a2<span class="token punctuation">.</span>ravel<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#返回的引用</span>
a3<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">100</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>     <span class="token comment">#原来的数组发生了改变</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><code>总结</code>:</p> <ol><li><font color="#DC4040" size="4" face="黑体">reshape和resize都是重新定义形状的。但是reshape不会修改数组本身，而是将修改后的结果返回回去，而resize是直接修改本身的。</font></li> <li><font color="#DC4040" size="4" face="黑体">flatten和ravel都是用来将数组变成一维数组的，并且他们都不会对原数组造成修改，但是flatten返回的是一个拷贝，所以对flatten的返回值的修改不会影响到原来数组，而ravel返回的是一个view,那么返回值的修改会影响到原来数组的值。</font></li></ol> <h3 id="_3-5-3-不同数组的组合"><a href="#_3-5-3-不同数组的组合" class="header-anchor">#</a> 3.5.3 不同数组的组合</h3> <p>如果有多个数组想要组合在一起，也可以通过其中的一些函数来实现。</p> <ol><li><p><code>vstack</code>：将数组按垂直方向进行叠加。数组的列数必须相同才能叠加。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a3 <span class="token operator">=</span> np<span class="token punctuation">.</span>vstack<span class="token punctuation">(</span><span class="token punctuation">[</span>a1<span class="token punctuation">,</span>a2<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p><code>hstack</code>：将数组按水平方向进行叠加。数组的行必须相同才能叠加。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a3 <span class="token operator">=</span> np<span class="token punctuation">.</span>hstack<span class="token punctuation">(</span><span class="token punctuation">[</span>a1<span class="token punctuation">,</span>a2<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p><code>concatenate([],axis)</code>：将两个数组进行叠加，但是具体是按水平方向还是按垂直方向。则要看<code>axis</code>的参数，如果<code>axis=0</code>，那么代表的是往垂直方向（行）叠加，如果<code>axis=1</code>，那么代表的是往水平方向（列）上叠加，如果<code>axis=None</code>，那么会将两个数组组合成一个一维数组。需要注意的是，如果往水平方向上叠加，那么行必须相同，如果是往垂直方向叠加，那么列必须相同。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment"># 结果：</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">.</span>T<span class="token punctuation">)</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 结果：</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>
<span class="token comment"># 结果：</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li></ol> <ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/19 21:00
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span>  numpy <span class="token keyword">as</span> np
vstake1<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>vstake1<span class="token punctuation">)</span>
vstake2<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>vstake2<span class="token punctuation">)</span>
<span class="token comment"># vstake3=np.vstack([vstake1,vstake2])  #按垂直方向叠加，数组的列必须相同</span>
vstake3<span class="token operator">=</span>np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">[</span>vstake1<span class="token punctuation">,</span>vstake2<span class="token punctuation">]</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#0水平方向</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>vstake3<span class="token punctuation">)</span>


hstack1<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>hstack1<span class="token punctuation">)</span>
hstack2<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>hstack2<span class="token punctuation">)</span>
<span class="token comment"># hstack3=np.hstack([hstack1,hstack2])  #按水平方向叠加，数组的行必须相同</span>
hstack3<span class="token operator">=</span>np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">[</span>hstack1<span class="token punctuation">,</span>hstack2<span class="token punctuation">]</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">#1 垂直方向</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>hstack3<span class="token punctuation">)</span>

h4<span class="token operator">=</span>np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">[</span>hstack1<span class="token punctuation">,</span>hstack2<span class="token punctuation">]</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span> <span class="token comment">#通过叠加 变为一维数组</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>h4<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><code>总结</code>:</p> <ol><li><font color="#DC4040" size="4" face="黑体">hstack代表在水平方向叠加，如果想要叠加成功，那么他们的行必须一致。</font></li> <li><font color="#DC4040" size="4" face="黑体">vstack代表在垂直方向叠加，如果想要叠加成功，那么他们的列必须一致。</font></li> <li><font color="#DC4040" size="4" face="黑体">concatenate可以手动的指定axis参数具体在哪个方向叠加，如果axis=0,代表在水平方向叠加，如果axis=1,代表在垂直方向叠加，如果axis=None，那么会先进行叠加，再转换为1维数组。</font></li></ol> <h3 id="_3-2-4-数组的切割"><a href="#_3-2-4-数组的切割" class="header-anchor">#</a> 3.2.4 数组的切割</h3> <p>通过<code>hsplit</code>和<code>vsplit</code>以及<code>array_split</code>可以将一个数组进行切割。</p> <ol><li><p><code>hsplit</code>：按照水平方向进行切割。用于指定分割成几列，可以使用数字来代表分成几部分，也可以使用数组来代表分割的地方。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">16.0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
np<span class="token punctuation">.</span>hsplit<span class="token punctuation">(</span>a1<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">#分割成两部分</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span> <span class="token number">4</span><span class="token punctuation">.</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">.</span><span class="token punctuation">,</span>  <span class="token number">9</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">2</span><span class="token punctuation">.</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span> <span class="token number">6</span><span class="token punctuation">.</span><span class="token punctuation">,</span>  <span class="token number">7</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

np<span class="token punctuation">.</span>hsplit<span class="token punctuation">(</span>a1<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#代表在下标为1的地方切一刀，下标为2的地方切一刀，分成三部分</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span> <span class="token number">4</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span> <span class="token number">5</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span> <span class="token number">9</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">2</span><span class="token punctuation">.</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span> <span class="token number">6</span><span class="token punctuation">.</span><span class="token punctuation">,</span>  <span class="token number">7</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li> <li><p><code>vsplit</code>：按照垂直方向进行切割。用于指定分割成几行，可以使用数字来代表分成几部分，也可以使用数组来代表分割的地方。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span>vsplit<span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">#代表按照行总共分成2个数组</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">.</span><span class="token punctuation">,</span>  <span class="token number">9</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

np<span class="token punctuation">.</span>vsplit<span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#代表按照行进行划分，在下标为1的地方和下标为2的地方分割</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">.</span><span class="token punctuation">,</span>  <span class="token number">9</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
           <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p><code>split/array_split(array,indicate_or_seciont,axis)</code>：用于指定切割方式，在切割的时候需要指定是按照行还是按照列，<code>axis=1</code>代表按照列，<code>axis=0</code>代表按照行。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span>array_split<span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#按照垂直方向切割成2部分</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">.</span><span class="token punctuation">,</span>  <span class="token number">9</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ol> <hr> <ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/19 21:41
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
hs1<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>hs1<span class="token punctuation">)</span>
hs2<span class="token operator">=</span>np<span class="token punctuation">.</span>hsplit<span class="token punctuation">(</span>hs1<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>hs2<span class="token punctuation">)</span>
hs3<span class="token operator">=</span>np<span class="token punctuation">.</span>hsplit<span class="token punctuation">(</span>hs1<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#在下标为1和2的列前面切一刀</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>hs3<span class="token punctuation">)</span>

vs1<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>vs1<span class="token punctuation">)</span>

vs2<span class="token operator">=</span>np<span class="token punctuation">.</span>vsplit<span class="token punctuation">(</span>vs1<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment">#水平分割</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>vs2<span class="token punctuation">)</span>

vs3<span class="token operator">=</span>np<span class="token punctuation">.</span>vsplit<span class="token punctuation">(</span>vs1<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>vs3<span class="token punctuation">)</span>

hs4<span class="token operator">=</span>np<span class="token punctuation">.</span>split<span class="token punctuation">(</span>hs1<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">#垂直切割</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>hs4<span class="token punctuation">)</span>

vs4<span class="token operator">=</span>np<span class="token punctuation">.</span>split<span class="token punctuation">(</span>vs1<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#水平切割</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>vs4<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><code>总结</code>:</p> <ol><li><font color="#DC4040" size="4" face="黑体">hsplit代表在水平方向切割，按列进行切割的。它的切割方式有两种，第一种就是直接指定平均切割成多少列，第二种就是指定切割的下标值。</font></li> <li><font color="#DC4040" size="4" face="黑体">vsplit代表在垂直方向切割，按行进行切割的。它的切割方式跟hspilt是一样的。</font></li> <li><font color="#DC4040" size="4" face="黑体">split/array_split是手动的指定axis参数，axis=0,代表按行切割，axis=1,代表按列进行切割。</font></li></ol> <h2 id="_3-6-数组-矩阵-转置和轴对换"><a href="#_3-6-数组-矩阵-转置和轴对换" class="header-anchor">#</a> 3.6 数组（矩阵）转置和轴对换</h2> <p><code>numpy</code>中的数组其实就是线性代数中的矩阵。矩阵是可以进行转置的。<code>ndarray</code>有一个<code>T</code>属性，可以返回这个数组的转置的结果。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span>T
<span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>另外还有一个方法叫做<code>transpose</code>，这个方法返回的是一个View，也即修改返回值，会影响到原来数组。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>为什么要进行矩阵转置呢，有时候在做一些计算的时候需要用到。比如做矩阵的内积的时候。就必须将矩阵进行转置后再乘以之前的矩阵：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span>T
<span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>a2<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h1 id="_4-深拷贝和浅拷贝"><a href="#_4-深拷贝和浅拷贝" class="header-anchor">#</a> 4. 深拷贝和浅拷贝</h1> <p>在操作数组的时候，它们的数据有时候拷贝进一个新的数组，有时候又不是。这经常是初学者感到困惑。下面有三种情况：</p> <h2 id="_4-1-不拷贝"><a href="#_4-1-不拷贝" class="header-anchor">#</a> 4.1 不拷贝</h2> <p>如果只是简单的赋值，那么不会进行拷贝。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> a <span class="token comment">#这种情况不会进行拷贝</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b <span class="token keyword">is</span> a<span class="token punctuation">)</span> <span class="token comment">#返回True，说明b和a是相同的</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_4-2-view或者浅拷贝"><a href="#_4-2-view或者浅拷贝" class="header-anchor">#</a> 4.2 View或者浅拷贝</h2> <p>有些情况，会进行变量的拷贝，但是他们所指向的内存空间都是一样的，那么这种情况叫做浅拷贝，或者叫做<code>View(视图)</code>。比如以下代码：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> a<span class="token punctuation">.</span>view<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c <span class="token keyword">is</span> a<span class="token punctuation">)</span> <span class="token comment">#返回False，说明c和a是两个不同的变量</span>
c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#打印100，说明对c上的改变，会影响a上面的值，说明他们指向的内存空间还是一样的，这种叫做浅拷贝，或者说是view</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_4-3-深拷贝"><a href="#_4-3-深拷贝" class="header-anchor">#</a> 4.3 深拷贝</h2> <p>将之前数据完完整整的拷贝一份放到另外一块内存空间中，这样就是两个完全不同的值了。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
d <span class="token operator">=</span> a<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d <span class="token keyword">is</span> a<span class="token punctuation">)</span> <span class="token comment">#返回False，说明d和a是两个不同的变量</span>
d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#打印0，说明d和a指向的内存空间完全不同了。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="/Blog/assets/img/01.73c713e7.png" alt="1637654676557"></p> <h2 id="_4-4-例子"><a href="#_4-4-例子" class="header-anchor">#</a> 4.4 例子</h2> <p>像之前讲到的<code>flatten</code>和<code>ravel</code>就是这种情况，<code>ravel</code>返回的就是View，而<code>flatten</code>返回的就是深拷贝。</p> <p><code>总结</code>:</p> <p>在数组操作中分成三种拷贝:</p> <ol><li><font color="#DC4040" size="4" face="黑体">不拷贝：直接赋值，那么栈区没有拷贝，只是用同一个栈区定义了不同的名称。</font></li> <li><font color="#DC4040" size="4" face="黑体">浅拷贝：只拷贝栈区，栈区指定的堆区并没有拷贝。</font></li> <li><font color="#DC4040" size="4" face="黑体">深拷贝：栈区和堆区都拷贝了。</font></li></ol> <h1 id="_5-文件操作"><a href="#_5-文件操作" class="header-anchor">#</a> 5. 文件操作</h1> <h2 id="_5-1-操作csv文件"><a href="#_5-1-操作csv文件" class="header-anchor">#</a> 5.1 操作CSV文件</h2> <h3 id="_5-1-1-文件保存"><a href="#_5-1-1-文件保存" class="header-anchor">#</a> 5.1.1 文件保存</h3> <p>有时候我们有了一个数组，需要保存到文件中，那么可以使用<code>np.savetxt</code>来实现。相关的函数描述如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span>savetxt<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> array<span class="token punctuation">,</span> fmt<span class="token operator">=</span><span class="token string">'%.18e'</span><span class="token punctuation">,</span> delimiter<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>
<span class="token operator">*</span> frame <span class="token punctuation">:</span> 文件、字符串或产生器，可以是<span class="token punctuation">.</span>gz或<span class="token punctuation">.</span>bz2的压缩文件
<span class="token operator">*</span> array <span class="token punctuation">:</span> 存入文件的数组
<span class="token operator">*</span> comments<span class="token operator">=</span><span class="token string">'#'</span><span class="token punctuation">:</span>默认为<span class="token comment">#</span>
<span class="token operator">*</span> header<span class="token operator">=</span><span class="token string">'英语,数学'</span><span class="token comment">#头部信息 标题</span>
<span class="token operator">*</span> fmt <span class="token punctuation">:</span> 写入文件的格式，例如：<span class="token operator">%</span>d <span class="token operator">%</span><span class="token punctuation">.</span><span class="token number">2f</span> <span class="token operator">%</span><span class="token punctuation">.</span><span class="token number">18e</span>
<span class="token operator">*</span> delimiter <span class="token punctuation">:</span> 分割字符串，默认是任何空格
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>以下是使用的例子：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
np<span class="token punctuation">.</span>savetxt<span class="token punctuation">(</span><span class="token string">&quot;a.csv&quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>fmt<span class="token operator">=</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span>delimiter<span class="token operator">=</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_5-1-2-读取文件"><a href="#_5-1-2-读取文件" class="header-anchor">#</a> 5.1.2 读取文件</h3> <p>有时候我们的数据是需要从文件中读取出来的，那么可以使用<code>np.loadtxt</code>来实现。相关的函数描述如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> dtype<span class="token operator">=</span>np<span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">,</span> delimiter<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> unpack<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
<span class="token operator">*</span> frame：文件、字符串或产生器，可以是<span class="token punctuation">.</span>gz或<span class="token punctuation">.</span>bz2的压缩文件。
<span class="token operator">*</span> dtype：数据类型，可选。
<span class="token operator">*</span> delimiter：分割字符串，默认是任何空格。
<span class="token operator">*</span> skiprows：跳过前面x行。
<span class="token operator">*</span> usecols：读取指定的列，用元组组合。
<span class="token operator">*</span> unpack：如果<span class="token boolean">True</span>，读取出来的数组是转置后的。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment">#encoding=gbk</span>
<span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/24 12:58
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
scores<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>scores<span class="token punctuation">)</span>
np<span class="token punctuation">.</span>savetxt<span class="token punctuation">(</span><span class="token string">&quot;score.csv&quot;</span><span class="token punctuation">,</span>scores<span class="token punctuation">,</span>delimiter<span class="token operator">=</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">,</span>header<span class="token operator">=</span><span class="token string">'英语,数学'</span><span class="token punctuation">,</span>comments<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span>fmt<span class="token operator">=</span><span class="token string">'%d'</span><span class="token punctuation">)</span>

b<span class="token operator">=</span>np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span><span class="token string">&quot;score.csv&quot;</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span><span class="token builtin">int</span><span class="token punctuation">,</span>delimiter<span class="token operator">=</span><span class="token string">','</span><span class="token punctuation">,</span>skiprows<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">#跳过第一行,</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_5-2-np独有的存储解决方案"><a href="#_5-2-np独有的存储解决方案" class="header-anchor">#</a> 5.2 np独有的存储解决方案</h2> <p><code>numpy</code>中还有一种独有的存储解决方案。文件名是以<code>.npy</code>或者<code>npz</code>结尾的。以下是存储和加载的函数。</p> <ol><li>存储：<code>np.save(fname,array)</code>或<code>np.savez(fname,array)</code>。其中，前者函数的扩展名是<code>.npy</code>，后者的扩展名是<code>.npz</code>，后者是经过压缩的。</li> <li>加载：<code>np.load(fname)</code>。</li></ol> <ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/24 23:18
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
c<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
np<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span>

c1<span class="token operator">=</span>np<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'c.npy'</span><span class="token punctuation">)</span>   <span class="token comment">#读取</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span>

d<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># np.savetxt('d.csv',d) # 只能保存一维或二维数组  报错</span>
np<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">,</span>d<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><code>总结</code>:</p> <ol><li><font color="#DC4040" size="4" face="黑体">np.savetxt和np.loadtxt一般用来操作csv文件，他可以设置header,但是不能存储3维以上的数组。</font></li> <li><font color="#DC4040" size="4" face="黑体">np.save和np.load一般用来存储非文本类型的文件，他不可以设置header,但是可以存储3维以上的数组。</font></li> <li><font color="#DC4040" size="4" face="黑体">如果想专门的操作csv文件，其实还有另一个模块叫做csv,这个模块是Python内置的，不需要安装。</font></li></ol> <hr> <h1 id="_6-csv文件操作"><a href="#_6-csv文件操作" class="header-anchor">#</a> 6. CSV文件操作</h1> <h2 id="_6-1读取csv文件"><a href="#_6-1读取csv文件" class="header-anchor">#</a> 6.1读取csv文件</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> csv

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'stock.csv'</span><span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>
    reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>reader<span class="token punctuation">(</span>fp<span class="token punctuation">)</span>
    titles <span class="token operator">=</span> <span class="token builtin">next</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span>
    <span class="token keyword">for</span> x <span class="token keyword">in</span> reader<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>这样操作，以后获取数据的时候，就要通过下表来获取数据。如果想要在获取数据的时候通过标题来获取。那么可以使用<code>DictReader</code>。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> csv

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'stock.csv'</span><span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>
    reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>DictReader<span class="token punctuation">(</span>fp<span class="token punctuation">)</span>
    <span class="token keyword">for</span> x <span class="token keyword">in</span> reader<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token string">'turnoverVol'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/25 9:31
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> csv
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'stock.csv'</span><span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>
    reader<span class="token operator">=</span>csv<span class="token punctuation">.</span>reader<span class="token punctuation">(</span>fp<span class="token punctuation">)</span>  <span class="token comment">#reader是一个迭代器</span>
    <span class="token builtin">next</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span>  <span class="token comment">#标题数据就没有了</span>
    <span class="token keyword">for</span> x <span class="token keyword">in</span> reader<span class="token punctuation">:</span>
        name<span class="token operator">=</span>x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
        volumn<span class="token operator">=</span>x<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span>name<span class="token punctuation">,</span><span class="token string">'volumn'</span><span class="token punctuation">:</span>volumn<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">#只获取名字和成交量</span>

<span class="token keyword">def</span> <span class="token function">read_csv_demo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'stock.csv'</span><span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>
        <span class="token comment">#使用DictReader创建的reader对象</span>
        <span class="token comment">#不会包含标题那行的数据</span>
        <span class="token comment">#reader是一个迭代器，遍历这个迭代器，返回来的是一个字典</span>
        reader<span class="token operator">=</span>csv<span class="token punctuation">.</span>DictReader<span class="token punctuation">(</span>fp<span class="token punctuation">)</span>
        <span class="token keyword">for</span> x <span class="token keyword">in</span> reader<span class="token punctuation">:</span>
            values<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span>x<span class="token punctuation">[</span><span class="token string">'secShortName'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'volumn'</span><span class="token punctuation">:</span>x<span class="token punctuation">[</span><span class="token string">'turnoverVol'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span>
<span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>
    read_csv_demo2<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="_6-2-写入数据到csv文件"><a href="#_6-2-写入数据到csv文件" class="header-anchor">#</a> 6.2 写入数据到csv文件</h2> <p>写入数据到csv文件，需要创建一个<code>writer</code>对象，主要用到两个方法。一个是<code>writerow</code>，这个是写入一行。一个是<code>writerows</code>，这个是写入多行。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> csv

headers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">,</span><span class="token string">'classroom'</span><span class="token punctuation">]</span>
values <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">(</span><span class="token string">'zhiliao'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">'111'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'wena'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">'222'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'bbc'</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token string">'111'</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'test.csv'</span><span class="token punctuation">,</span><span class="token string">'w'</span><span class="token punctuation">,</span>newline<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>
    writer <span class="token operator">=</span> csv<span class="token punctuation">.</span>writer<span class="token punctuation">(</span>fp<span class="token punctuation">)</span>
    writer<span class="token punctuation">.</span>writerow<span class="token punctuation">(</span>headers<span class="token punctuation">)</span>
    writer<span class="token punctuation">.</span>writerows<span class="token punctuation">(</span>values<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>也可以使用字典的方式把数据写入进去。这时候就需要使用<code>DictWriter</code>了。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> csv

headers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">,</span><span class="token string">'classroom'</span><span class="token punctuation">]</span>
values <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">'wenn'</span><span class="token punctuation">,</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">&quot;classroom&quot;</span><span class="token punctuation">:</span><span class="token string">'222'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">'abc'</span><span class="token punctuation">,</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token string">&quot;classroom&quot;</span><span class="token punctuation">:</span><span class="token string">'333'</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'test.csv'</span><span class="token punctuation">,</span><span class="token string">'w'</span><span class="token punctuation">,</span>newline<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>
    writer <span class="token operator">=</span> csv<span class="token punctuation">.</span>DictWriter<span class="token punctuation">(</span>fp<span class="token punctuation">,</span>headers<span class="token punctuation">)</span>
    writer<span class="token punctuation">.</span>writerow<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'zhiliao'</span><span class="token punctuation">,</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">&quot;classroom&quot;</span><span class="token punctuation">:</span><span class="token string">'111'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    writer<span class="token punctuation">.</span>writerows<span class="token punctuation">(</span>values<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/25 9:48
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> csv

<span class="token keyword">def</span> <span class="token function">write_csv_demo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    headers<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'username'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">,</span><span class="token string">'height'</span><span class="token punctuation">}</span>
    values<span class="token operator">=</span><span class="token punctuation">[</span>
        <span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'李四'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">190</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'王五'</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">160</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'classroom.csv'</span><span class="token punctuation">,</span><span class="token string">'w'</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">,</span>newline<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>
        writer<span class="token operator">=</span>csv<span class="token punctuation">.</span>writer<span class="token punctuation">(</span>fp<span class="token punctuation">)</span>
        writer<span class="token punctuation">.</span>writerow<span class="token punctuation">(</span>headers<span class="token punctuation">)</span>
        writer<span class="token punctuation">.</span>writerows<span class="token punctuation">(</span>values<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">write_csv_demo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    headers<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'username'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">,</span><span class="token string">'height'</span><span class="token punctuation">}</span>
    values<span class="token operator">=</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token string">'username'</span><span class="token punctuation">:</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">'height'</span><span class="token punctuation">:</span><span class="token number">180</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string">'username'</span><span class="token punctuation">:</span><span class="token string">'李四'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">:</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token string">'height'</span><span class="token punctuation">:</span><span class="token number">160</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string">'username'</span><span class="token punctuation">:</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">'height'</span><span class="token punctuation">:</span><span class="token number">190</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'classroom1.csv'</span><span class="token punctuation">,</span><span class="token string">'w'</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">,</span>newline<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>
        writer<span class="token operator">=</span>csv<span class="token punctuation">.</span>DictWriter<span class="token punctuation">(</span>fp<span class="token punctuation">,</span>headers<span class="token punctuation">)</span>
        <span class="token comment">#写入表头数据的时候需要调用writeheader方法</span>
        writer<span class="token punctuation">.</span>writeheader<span class="token punctuation">(</span><span class="token punctuation">)</span>
        writer<span class="token punctuation">.</span>writerows<span class="token punctuation">(</span>values<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>
    write_csv_demo2<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h1 id="_7-nan和inf值处理"><a href="#_7-nan和inf值处理" class="header-anchor">#</a> 7.  NAN和INF值处理</h1> <p>首先我们要知道这两个英文单词代表的什么意思：</p> <ol><li><code>NAN</code>：<code>Not A number</code>，不是一个数字的意思，但是他是属于浮点类型的，所以想要进行数据操作的时候需要注意他的类型。</li> <li><code>INF</code>：<code>Infinity</code>，代表的是无穷大的意思，也是属于浮点类型。<code>np.inf</code>表示正无穷大，<code>-np.inf</code>表示负无穷大，一般在出现除数为0的时候为无穷大。比如<code>2/0</code>。</li></ol> <h2 id="_7-1-nan一些特点"><a href="#_7-1-nan一些特点" class="header-anchor">#</a> 7.1 NAN一些特点</h2> <ol><li>NAN和NAN不相等。比如<code>np.NAN != np.NAN</code>这个条件是成立的。</li> <li>NAN和任何值做运算，结果都是NAN。</li></ol> <p>有些时候，特别是从文件中读取数据的时候，经常会出现一些缺失值。缺失值的出现会影响数据的处理。因此我们在做数据分析之前，先要对缺失值进行一些处理。处理的方式有多种，需要根据实际情况来做。一般有两种处理方式：删除缺失值，用其他值进行填充。</p> <h2 id="_7-2-删除缺失值"><a href="#_7-2-删除缺失值" class="header-anchor">#</a> 7.2 删除缺失值</h2> <p>有时候，我们想要将数组中的<code>NAN</code>删掉，那么我们可以换一种思路，就是只提取不为<code>NAN</code>的值。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 1. 删除所有NAN的值，因为删除了值后数组将不知道该怎么变化，所以会被变成一维数组</span>
data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> np<span class="token punctuation">.</span>nan
data <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isnan<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment"># 此时的data会没有nan，并且变成一个1维数组</span>

<span class="token comment"># 2. 删除NAN所在的行</span>
data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">)</span>
<span class="token comment"># 将第(0,1)和(1,2)两个值设置为NAN</span>
data<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> np<span class="token punctuation">.</span>NAN
<span class="token comment"># 获取哪些行有NAN</span>
lines <span class="token operator">=</span> np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>np<span class="token punctuation">.</span>isnan<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token comment"># 使用delete方法删除指定的行,axis=0表示删除行，lines表示删除的行号</span>
data1 <span class="token operator">=</span> np<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>data<span class="token punctuation">,</span>lines<span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/25 10:10
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
data<span class="token operator">=</span>data<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>np<span class="token punctuation">.</span>NAN
<span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token comment"># print(data/0)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>NAN<span class="token operator">==</span>np<span class="token punctuation">.</span>NAN<span class="token punctuation">)</span> <span class="token comment">#False  #Nan和任何值做运算 等于Nan</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isnan<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#提取非Nan的值</span>

data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span>np<span class="token punctuation">.</span>NAN

lines<span class="token operator">=</span>np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>np<span class="token punctuation">.</span>isnan<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
data<span class="token operator">=</span>np<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>data<span class="token punctuation">,</span>lines<span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#删除行</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="_7-3-用其他值进行替代"><a href="#_7-3-用其他值进行替代" class="header-anchor">#</a> 7.3 用其他值进行替代</h2> <p>有些时候我们不想直接删掉，比如有一个成绩表，分别是数学和英语，但是因为某个人在某个科目上没有成绩，那么此时就会出现NAN的情况，这时候就不能直接删掉了，就可以使用某些值进行替代。假如有以下表格：</p> <table><thead><tr><th>数学</th> <th>英语</th></tr></thead> <tbody><tr><td>59</td> <td>89</td></tr> <tr><td>90</td> <td>32</td></tr> <tr><td>78</td> <td>45</td></tr> <tr><td>34</td> <td>NAN</td></tr> <tr><td>NAN</td> <td>56</td></tr> <tr><td>23</td> <td>56</td></tr></tbody></table> <p>如果想要求每门成绩的总分，以及每门成绩的平均分，那么就可以采用某些值替代。比如求总分，那么就可以把NAN替换成0，如果想要求平均分，那么就可以把NAN替换成其他值的平均值。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>scores <span class="token operator">=</span> np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span><span class="token string">&quot;nan_scores.csv&quot;</span><span class="token punctuation">,</span>skiprows<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>delimiter<span class="token operator">=</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">)</span>
scores<span class="token punctuation">[</span>scores <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> np<span class="token punctuation">.</span>NAN
scores <span class="token operator">=</span> scores<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">)</span>
<span class="token comment"># 1. 求出学生成绩的总分</span>
scores1 <span class="token operator">=</span> scores<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
socres1<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token comment"># 2. 求出每门成绩的平均分</span>
scores2 <span class="token operator">=</span> scores<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>scores2<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    score <span class="token operator">=</span> scores2<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span>x<span class="token punctuation">]</span>
    non_nan_score <span class="token operator">=</span> score<span class="token punctuation">[</span>score <span class="token operator">==</span> score<span class="token punctuation">]</span>
    score<span class="token punctuation">[</span>score <span class="token operator">!=</span> score<span class="token punctuation">]</span> <span class="token operator">=</span> non_nan_score<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>scores2<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/25 11:01
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
scores<span class="token operator">=</span>np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span><span class="token string">'nan_scores.csv'</span><span class="token punctuation">,</span>delimiter<span class="token operator">=</span><span class="token string">','</span><span class="token punctuation">,</span>skiprows<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">)</span>
scores<span class="token punctuation">[</span>scores<span class="token operator">==</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token operator">=</span>np<span class="token punctuation">.</span>NAN
<span class="token keyword">print</span><span class="token punctuation">(</span>scores<span class="token punctuation">)</span>
scores1<span class="token operator">=</span>scores<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">)</span>
scores1<span class="token punctuation">[</span>np<span class="token punctuation">.</span>isnan<span class="token punctuation">(</span>scores1<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token comment">#除了delete用axis=0来表示行以外，其他的大部分函数都是axis=1来表示行</span>
scores1_sum<span class="token operator">=</span>scores1<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>scores1_sum<span class="token punctuation">)</span>

scores2<span class="token operator">=</span>scores<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>scores2<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    col<span class="token operator">=</span>scores2<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span>x<span class="token punctuation">]</span>
    non_nan_col<span class="token operator">=</span>col<span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isnan<span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">]</span>
    mean<span class="token operator">=</span>non_nan_col<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
    col<span class="token punctuation">[</span>np<span class="token punctuation">.</span>isnan<span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span>mean
<span class="token keyword">print</span><span class="token punctuation">(</span>scores2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><code>总结</code>:</p> <ol><li><font color="#DC4040" size="4" face="黑体">NAN:Not A Number的简写，不是一个数字，但是他是属于浮点型。</font></li> <li><font color="#DC4040" size="4" face="黑体">INF:无穷大，在除数为0的情况下会出现INF。</font></li> <li><font color="#DC4040" size="4" face="黑体">NAN和所有的值进行计算结果都是等于NAN。</font></li> <li><font color="#DC4040" size="4" face="黑体">NAN!=NAN</font></li> <li><font color="#DC4040" size="4" face="黑体">可以通过np.isnan来判断某个值是不是NAN。</font></li> <li><font color="#DC4040" size="4" face="黑体">处理值的时候，可以通过删除NAN的形式进行处理，也可以通过值的替换处理。</font></li> <li><font color="#DC4040" size="4" face="黑体">np.delete比较特殊，他通过axis=0来代表行，而其他大部分函数是通过axis=1来代表行。</font></li></ol> <h1 id="_8-np-random模块"><a href="#_8-np-random模块" class="header-anchor">#</a> 8.  np.random模块</h1> <p><code>np.random</code>为我们提供了许多获取随机数的函数。这里统一来学习一下。</p> <h2 id="np-random-seed"><a href="#np-random-seed" class="header-anchor">#</a> np.random.seed</h2> <p>用于指定随机数生成时所用算法开始的整数值，如果使用相同的<code>seed()</code>值，则每次生成的随即数都相同，如果不设置这个值，则系统根据时间来自己选择这个值，此时每次生成的随机数因时间差异而不同。一般没有特殊要求不用设置。以下代码：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 打印0.417022004702574</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 打印其他的值，因为随机数种子只对下一次随机数的产生会有影响。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="np-random-rand"><a href="#np-random-rand" class="header-anchor">#</a> np.random.rand</h2> <p>生成一个值为<code>[0,1)</code>之间的数组，形状由参数指定，如果没有参数，那么将返回一个随机值。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>data1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment"># 生成2块3行4列的数组，值从0-1之间</span>
data2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#生成一个0-1之间的随机数</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="np-random-randn"><a href="#np-random-randn" class="header-anchor">#</a> np.random.randn</h2> <p>生成均值(μ)为0，标准差（σ）为1的标准正态分布的值。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">#生成一个2行3列的数组，数组中的值都满足标准正太分布</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="np-random-randint"><a href="#np-random-randint" class="header-anchor">#</a> np.random.randint</h2> <p>生成指定范围内的随机数，并且可以通过<code>size</code>参数指定维度。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>data1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#生成值在0-10之间，3行5列的数组</span>
data2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#生成值在1-20之间，3行6列的数组</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="np-random-choice"><a href="#np-random-choice" class="header-anchor">#</a> np.random.choice</h2> <p>从一个列表或者数组中，随机进行采样。或者是从指定的区间中进行采样，采样个数可以通过参数指定：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">73</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
result1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>data<span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#从data中随机采样，生成2行3列的数组</span>
result2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">#从data中随机采样3个数据形成一个一维数组</span>
result3 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">#从0-10之间随机取3个值</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="np-random-shuffle"><a href="#np-random-shuffle" class="header-anchor">#</a> np.random.shuffle</h2> <p>把原来数组的元素的位置打乱。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">#将a的元素的位置都会进行随机更换</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/25 11:39
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
num<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>

num1<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span>

num2<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#标准正态分布的数</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span>

data<span class="token operator">=</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
data1<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>data<span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>data1<span class="token punctuation">)</span>

data<span class="token operator">=</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">#随机打乱 没有返回值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="更多"><a href="#更多" class="header-anchor">#</a> 更多：</h2> <p>更多的random模块的文档，请参考<code>Numpy</code>的官方文档：<a href="https://docs.scipy.org/doc/numpy/reference/routines.random.html" target="_blank" rel="noopener noreferrer">https://docs.scipy.org/doc/numpy/reference/routines.random.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h1 id="_9-axis理解"><a href="#_9-axis理解" class="header-anchor">#</a> 9. Axis理解</h1> <p>之前的课程中，为了方便大家理解，我们说<code>axis=0</code>代表的是行，<code>axis=1</code>代表的是列。但其实不是这么简单理解的。这里我们专门用一节来解释一下这个<code>axis</code>轴的概念。</p> <p>简单来说， <strong>最外面的括号代表着 axis=0，依次往里的括号对应的 axis 的计数就依次加 1</strong>。什么意思呢？下面再来解释一下。<br> <img src="/Blog/assets/img/02.a784ccdc.png" alt="1637812518143">
最外面的括号就是<code>axis=0</code>，里面两个子括号<code>axis=1</code>。
<strong>操作方式：如果指定轴进行相关的操作，那么他会使用轴下的每个直接子元素的第0个，第1个，第2个...分别进行相关的操作。</strong></p> <p>现在我们用刚刚理解的方式来做几个操作。比如现在有一个二维的数组：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>x <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol><li><p>求<code>x</code>数组在<code>axis=0</code>和<code>axis=1</code>两种情况下的和：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> x<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
 array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>为什么得到的是[2,4]呢，原因是我们按照<code>axis=0</code>的方式进行相加，那么就会把<strong>最外面轴下的所有直接子元素中的第0个位置进行相加，第1个位置进行相加...依此类推</strong>，得到的就是<code>0+2</code>以及<code>2+3</code>，然后进行相加，得到的结果就是<code>[2,4]</code>。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> x<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
 array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>因为我们按照<code>axis=1</code>的方式进行相加，那么就会把<strong>轴为1里面的元素拿出来进行求和</strong>，得到的就是<code>0,1</code>，进行相加为<code>1</code>，以及<code>2,3</code>进行相加为<code>5</code>，所以最终结果就是<code>[1,5]</code>了。</p></li> <li><p>用<code>np.max</code>求<code>axis=0</code>和<code>axis=1</code>两种情况下的最大值：</p></li></ol> <div class="language-python line-numbers-mode"><pre class="language-python"><code> <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
 <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> x <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> x<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
 array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>因为我们是按照<code>axis=0</code>进行求最大值，那么就会在最外面轴里面找直接子元素，然后将每个子元素的第0个值放在一起求最大值，将第1个值放在一起求最大值，以此类推。而如果<code>axis=1</code>，那么就是拿到每个直接子元素，然后求每个子元素中的最大值：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> x<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
 array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li><p>用<code>np.delete</code>在<code>axis=0</code>和<code>axis=1</code>两种情况下删除元素：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> np<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
 array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>np.delete</code>是个例外。我们按照<code>axis=0</code>的方式进行删除，那么他会首先找到最外面的括号下的直接子元素中的第0个，然后删掉，剩下最后一行的数据。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> np<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
 array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>同理，如果我们按照<code>axis=1</code>进行删除，那么会把第一列的数据删掉。</p></li></ol> <ul><li>练习</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
@Author :frx
@Time   :2021/11/26 9:48
@Version    :1.0
&quot;&quot;&quot;</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
a<span class="token operator">=</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token comment"># [[0 1]</span>
<span class="token comment">#  [2 3]]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># [2 4]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># [1 5]</span>
x<span class="token operator">=</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token comment"># [[ 0  1  2  3  4  5]</span>
 <span class="token comment"># [ 6  7  8  9 10 11]]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># [ 6  7  8  9 10 11]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># [ 5 11]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># [[ 6  7  8  9 10 11]]</span>

y<span class="token operator">=</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>
<span class="token comment"># [[12 13 14 15 16 17]</span>
<span class="token comment">#   [18 19 20 21 22 23]]]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># [[12 13 14 15 16 17]</span>
<span class="token comment">#  [18 19 20 21 22 23]]]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p><code>总结</code>:</p> <ol><li><font color="#DC4040" size="4" face="黑体">最外面的括号代表着axis=0,依次往里面的括号对应的axis的计数就依次加1。</font></li> <li><font color="#DC4040" size="4" face="黑体">操作方式:如果指定轴进行相关的操作，那么它会使用轴下的每个直接子元素的第0个，第1个，第2个...分别进行相关的操作。</font></li> <li><font color="#DC4040" size="4" face="黑体">np.delete,是直接删除指定轴下的第几个直接子元素。</font></li></ol> <h2 id="_9-1-三维以上数组"><a href="#_9-1-三维以上数组" class="header-anchor">#</a> 9.1 三维以上数组</h2> <p><img src="/Blog/assets/img/03.f2db37d1.png" alt="1637812562000">
按照之前的理论，如果以上数组按照<code>axis=0</code>的方式进行相加，得到的结果如下：
<img src="/Blog/assets/img/04.5375b92e.png" alt="1637812579690">
如果是按照<code>axis=1</code>的方式进行相加，得到的结果如下：
<img src="/Blog/assets/img/05.0c5eb64f.png" alt="1637812608332"></p> <h1 id="_10-通用函数"><a href="#_10-通用函数" class="header-anchor">#</a> 10. 通用函数</h1> <h2 id="_10-1-一元函数"><a href="#_10-1-一元函数" class="header-anchor">#</a> 10.1 一元函数</h2> <table><thead><tr><th>函数</th> <th>描述</th></tr></thead> <tbody><tr><td>np.abs</td> <td>绝对值</td></tr> <tr><td>np.sqrt</td> <td>开根</td></tr> <tr><td>np.square</td> <td>平方</td></tr> <tr><td>np.exp</td> <td>计算指数(e^x)</td></tr> <tr><td>np.log，np.log10，np.log2，np.log1p</td> <td>求以e为底，以10为低，以2为低，以(1+x)为底的对数</td></tr> <tr><td>np.sign</td> <td>将数组中的值标签化，大于0的变成1，等于0的变成0，小于0的变成-1</td></tr> <tr><td>np.ceil</td> <td>朝着无穷大的方向取整，比如5.1会变成6，-6.3会变成-6</td></tr> <tr><td>np.floor</td> <td>朝着负无穷大方向取证，比如5.1会变成5，-6.3会变成-7</td></tr> <tr><td>np.rint，np.round</td> <td>返回四舍五入后的值</td></tr> <tr><td>np.modf</td> <td>将整数和小数分隔开来形成两个数组</td></tr> <tr><td>np.isnan</td> <td>判断是否是nan</td></tr> <tr><td>np.isinf</td> <td>判断是否是inf</td></tr> <tr><td>np.cos，np.cosh，np.sin，np.sinh，np.tan，np.tanh</td> <td>三角函数</td></tr> <tr><td>np.arccos，np.arcsin，np.arctan</td> <td>反三角函数</td></tr></tbody></table> <h2 id="_10-2-二元函数"><a href="#_10-2-二元函数" class="header-anchor">#</a> 10.2 二元函数</h2> <table><thead><tr><th>函数</th> <th>描述</th></tr></thead> <tbody><tr><td>np.add</td> <td>加法运算（即1+1=2），相当于+</td></tr> <tr><td>np.subtract</td> <td>减法运算（即3-2=1），相当于-</td></tr> <tr><td>np.negative</td> <td>负数运算（即-2），相当于加个负号</td></tr> <tr><td>np.multiply</td> <td>乘法运算（即2*3=6），相当于*</td></tr> <tr><td>np.divide</td> <td>除法运算（即3/2=1.5），相当于/</td></tr> <tr><td>np.floor_divide</td> <td>取整运算，相当于//</td></tr> <tr><td>np.mod</td> <td>取余运算，相当于%</td></tr> <tr><td>greater,greater_equal,less,less_equal,equal,not_equal</td> <td>&gt;,&gt;=,&lt;,&lt;=,=,!=的函数表达式</td></tr> <tr><td>logical_and</td> <td>&amp;的函数表达式</td></tr> <tr><td>logical_or</td> <td>|的函数表达式</td></tr></tbody></table> <h3 id="_10-2-1-聚合函数"><a href="#_10-2-1-聚合函数" class="header-anchor">#</a> 10.2.1 聚合函数</h3> <table><thead><tr><th>函数名称</th> <th>NAN安全版本</th> <th>描述</th></tr></thead> <tbody><tr><td>np.sum</td> <td>np.nansum</td> <td>计算元素的和</td></tr> <tr><td>np.prod</td> <td>np.nanprod</td> <td>计算元素的积</td></tr> <tr><td>np.mean</td> <td>np.nanmean</td> <td>计算元素的平均值</td></tr> <tr><td>np.std</td> <td>np.nanstd</td> <td>计算元素的标准差</td></tr> <tr><td>np.var</td> <td>np.nanvar</td> <td>计算元素的方差</td></tr> <tr><td>np.min</td> <td>np.nanmin</td> <td>计算元素的最小值</td></tr> <tr><td>np.max</td> <td>np.nanmax</td> <td>计算元素的最大值</td></tr> <tr><td>np.argmin</td> <td>np.nanargmin</td> <td>找出最小值的索引</td></tr> <tr><td>np.argmax</td> <td>np.nanargmax</td> <td>找出最大值的索引</td></tr> <tr><td>np.median</td> <td>np.nanmedian</td> <td>计算元素的中位数</td></tr></tbody></table> <p>使用<code>np.sum</code>或者是<code>a.sum</code>即可实现。并且在使用的时候，可以指定具体哪个轴。同样<code>Python</code>中也内置了<code>sum</code>函数，但是Python内置的<code>sum</code>函数执行效率没有<code>np.sum</code>那么高，可以通过以下代码测试了解到：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span>
<span class="token operator">%</span>timeit <span class="token builtin">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">#使用Python内置的sum函数求总和，看下所花费的时间</span>
<span class="token operator">%</span>timeit np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">#使用Numpy的sum函数求和，看下所花费的时间</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_10-2-2-布尔数组的函数"><a href="#_10-2-2-布尔数组的函数" class="header-anchor">#</a> 10.2.2 布尔数组的函数</h3> <table><thead><tr><th style="text-align:left;">函数名称</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td style="text-align:left;">np.any</td> <td style="text-align:left;">验证任何一个元素是否为真</td></tr> <tr><td style="text-align:left;">np.all</td> <td style="text-align:left;">验证所有元素是否为真</td></tr></tbody></table> <p>比如想看下数组中是不是所有元素都为0，那么可以通过以下代码来实现：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> 
<span class="token comment"># 或者是</span>
<span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>比如我们想要看数组中是否有等于0的数，那么可以通过以下代码来实现：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span><span class="token builtin">any</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment"># 或者是</span>
<span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">any</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_10-2-3-排序"><a href="#_10-2-3-排序" class="header-anchor">#</a> 10.2.3 排序</h3> <ol><li><p><code>np.sort</code>：指定轴进行排序。默认是使用数组的最后一个轴进行排序。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 b <span class="token operator">=</span> np<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">#按照行进行排序，因为最后一个轴是1，那么就是将最里面的元素进行排序。</span>
 c <span class="token operator">=</span> np<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>a<span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#按照列进行排序，因为指定了axis=0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>还有<code>ndarray.sort()</code>，这个方法会直接影响到原来的数组，而不是返回一个新的排序后的数组。</p></li> <li><p><code>np.argsort</code>：返回排序后的下标值。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> np<span class="token punctuation">.</span>argsort<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">#默认也是使用最后的一个轴来进行排序。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>降序排序：<code>np.sort</code>默认会采用升序排序。如果我们想采用降序排序。那么可以采用以下方案来实现：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> <span class="token comment"># 1. 使用负号</span>
 <span class="token operator">-</span>np<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token operator">-</span>a<span class="token punctuation">)</span>

 <span class="token comment"># 2. 使用sort和argsort以及take</span>
 indexes <span class="token operator">=</span> np<span class="token punctuation">.</span>argsort<span class="token punctuation">(</span><span class="token operator">-</span>a<span class="token punctuation">)</span> <span class="token comment">#排序后的结果就是降序的</span>
 np<span class="token punctuation">.</span>take<span class="token punctuation">(</span>a<span class="token punctuation">,</span>indexes<span class="token punctuation">)</span> <span class="token comment">#从a中根据下标提取相应的元素</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ol> <h3 id="_10-2-4-其他函数补充"><a href="#_10-2-4-其他函数补充" class="header-anchor">#</a> 10.2.4 其他函数补充</h3> <ol><li><p><code>np.apply_along_axis</code>：沿着某个轴执行指定的函数。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> <span class="token comment"># 求数组a按行求均值，并且要去掉最大值和最小值。</span>
 np<span class="token punctuation">.</span>apply_along_axis<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token punctuation">[</span><span class="token punctuation">(</span>x <span class="token operator">!=</span> x<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>x <span class="token operator">!=</span> x<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>arr<span class="token operator">=</span>a<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p><code>np.linspace</code>：用来将指定区间内的值平均分成多少份。示例代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> <span class="token comment"># 将0-1分成12分，生成一个数组</span>
 np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p><code>np.unique</code>：返回数组中的唯一值。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> <span class="token comment"># 返回数组a中的唯一值，并且会返回每个唯一值出现的次数。</span>
 np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span>a<span class="token punctuation">,</span>return_counts<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol> <h2 id="更多-2"><a href="#更多-2" class="header-anchor">#</a> 更多：</h2> <p><a href="https://docs.scipy.org/doc/numpy/reference/index.html" target="_blank" rel="noopener noreferrer">https://docs.scipy.org/doc/numpy/reference/index.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h1 id="numpy练习题"><a href="#numpy练习题" class="header-anchor">#</a> Numpy练习题</h1> <h2 id="一、查看numpy的版本号"><a href="#一、查看numpy的版本号" class="header-anchor">#</a> 一、查看Numpy的版本号：</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>__version__<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="二、如何创建一个所有值都是false的布尔类型的数组"><a href="#二、如何创建一个所有值都是false的布尔类型的数组" class="header-anchor">#</a> 二、如何创建一个所有值都是False的布尔类型的数组：</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span>full<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">False</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span><span class="token builtin">bool</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="三、将一个有10个数的数组的形状进行转换"><a href="#三、将一个有10个数的数组的形状进行转换" class="header-anchor">#</a> 三、将一个有10个数的数组的形状进行转换：</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>arr <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">#转换成(2,5)的数组</span>
arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>newaxis<span class="token punctuation">]</span> <span class="token comment">#转换成(10,1)的数组</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>np.newaxis</code>所处的位置，会变成1。比如：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
arr1 <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>newaxis<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>arr1<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
<span class="token comment"># 结果是(10,1,2)，因为np.newaxis所在的位置是1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="四、将数组中所有偶数都替换成0-改变原来数组和不改变原来数组两种方式实现"><a href="#四、将数组中所有偶数都替换成0-改变原来数组和不改变原来数组两种方式实现" class="header-anchor">#</a> 四、将数组中所有偶数都替换成0（改变原来数组和不改变原来数组两种方式实现）：</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 1. 不改变原来数组</span>
arr1 <span class="token operator">=</span> np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>arr<span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>arr<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span>
<span class="token comment"># 2. 改变原来数组</span>
arr<span class="token punctuation">[</span>arr<span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="五、创建一个一维且有10个数的数组-元素是从0-1之间-但是不包含0和1"><a href="#五、创建一个一维且有10个数的数组-元素是从0-1之间-但是不包含0和1" class="header-anchor">#</a> 五、创建一个一维且有10个数的数组，元素是从<code>0-1</code>之间，但是不包含0和1：</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>arr <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其中的<code>linspace</code>是在起始值和结束值之间平均的获取指定个数的数。比如以上就是从<code>0-1</code>之间获取12个数组。</p> <h2 id="六、求以下数组大于等于5并且小于等于10的数组"><a href="#六、求以下数组大于等于5并且小于等于10的数组" class="header-anchor">#</a> 六、求以下数组大于等于5并且小于等于10的数组：</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
<span class="token comment"># 方法1</span>
index <span class="token operator">=</span> np<span class="token punctuation">.</span>where<span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">&gt;=</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a<span class="token punctuation">[</span>index<span class="token punctuation">]</span>

<span class="token comment"># 方法2:</span>
index <span class="token operator">=</span> np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>np<span class="token punctuation">.</span>logical_and<span class="token punctuation">(</span>a<span class="token operator">&gt;=</span><span class="token number">5</span><span class="token punctuation">,</span> a<span class="token operator">&lt;=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
<span class="token comment">#&gt; (array([6, 9, 10]),)</span>

<span class="token comment"># 方法3：</span>
a<span class="token punctuation">[</span><span class="token punctuation">(</span>a <span class="token operator">&gt;=</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="七、将一个二维数组的行和列分别进行逆向"><a href="#七、将一个二维数组的行和列分别进行逆向" class="header-anchor">#</a> 七、将一个二维数组的行和列分别进行逆向：</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token comment"># 反转行</span>
a1 <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">#里面传一个数进去（没有出现逗号），代表的是只对行进行操作</span>
<span class="token comment"># 反转列</span>
a2 <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">#里面传两个数进去，第一个是所有的行，第二个就是针对所有的列，但是取值的方向是从后面到前面。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="八、如何将科学计数法转换为浮点类型打印"><a href="#八、如何将科学计数法转换为浮点类型打印" class="header-anchor">#</a> 八、如何将科学计数法转换为浮点类型打印：</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># set_printoptions用来设置打印的时候的一些配置和选项</span>
<span class="token comment"># 将suppress设置为True，就不会显示成科学计数法了，并且通过precision来控制小数点后要保留几位</span>
np<span class="token punctuation">.</span>set_printoptions<span class="token punctuation">(</span>suppress<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>precision<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span>
rand_arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">1e3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>rand_arr<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="九、获取一个数组中唯一的元素"><a href="#九、获取一个数组中唯一的元素" class="header-anchor">#</a> 九、获取一个数组中唯一的元素：</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="十、获取一个数组中唯一的元素个数的排行"><a href="#十、获取一个数组中唯一的元素个数的排行" class="header-anchor">#</a> 十、获取一个数组中唯一的元素个数的排行：</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span>arr<span class="token punctuation">,</span>return_counts<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="十一、如何找到数组中每行的最大值"><a href="#十一、如何找到数组中每行的最大值" class="header-anchor">#</a> 十一、如何找到数组中每行的最大值：</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 解决方案1：</span>
np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token operator">*</span><span class="token number">30</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>amax<span class="token punctuation">(</span>a<span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 解决方案2：</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>apply_along_axis<span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">,</span>arr<span class="token operator">=</span>a<span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="十二、如何按照行求最小值与最大值相除的结果"><a href="#十二、如何按照行求最小值与最大值相除的结果" class="header-anchor">#</a> 十二、如何按照行求最小值与最大值相除的结果：</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
np<span class="token punctuation">.</span>apply_along_axis<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> np<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">/</span>np<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span>arr<span class="token operator">=</span>a<span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="十三、判断两个数组是否完全相等"><a href="#十三、判断两个数组是否完全相等" class="header-anchor">#</a> 十三、判断两个数组是否完全相等：</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="十四、设置一个数组不能修改值"><a href="#十四、设置一个数组不能修改值" class="header-anchor">#</a> 十四、设置一个数组不能修改值：</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>flags<span class="token punctuation">.</span>writable <span class="token operator">=</span> <span class="token boolean">False</span>
a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="十五、找到数组中离某个元素的最近的值"><a href="#十五、找到数组中离某个元素的最近的值" class="header-anchor">#</a> 十五、找到数组中离某个元素的最近的值：</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
Z <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
z <span class="token operator">=</span> <span class="token number">0.5</span>
m <span class="token operator">=</span> Z<span class="token punctuation">[</span>np<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>Z <span class="token operator">-</span> z<span class="token punctuation">)</span><span class="token punctuation">.</span>argmin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/6/2021, 4:17:01 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Blog/studynotes/dataCleaning/00.html" class="prev">
        环境搭建
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Blog/assets/js/app.b6640247.js" defer></script><script src="/Blog/assets/js/3.586cfad6.js" defer></script><script src="/Blog/assets/js/38.d1c800e9.js" defer></script>
  </body>
</html>
