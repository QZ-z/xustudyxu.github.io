{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{573:function(a,s,t){\"use strict\";t.r(s);var n=t(15),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":a.$parent.slotKey}},[t(\"h1\",{attrs:{id:\"spring5-事务\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#spring5-事务\"}},[a._v(\"#\")]),a._v(\" Spring5 事务\")]),a._v(\" \"),t(\"p\"),t(\"div\",{staticClass:\"table-of-contents\"},[t(\"ul\",[t(\"li\",[t(\"a\",{attrs:{href:\"#事务概念\"}},[a._v(\"事务概念\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#搭建事务操作环境\"}},[a._v(\"搭建事务操作环境\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#spring-事务管理介绍\"}},[a._v(\"Spring 事务管理介绍\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#注解声明式事务管理\"}},[a._v(\"注解声明式事务管理\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#注解声明式事务管理参数配置\"}},[a._v(\"注解声明式事务管理参数配置\")]),t(\"ul\",[t(\"li\",[t(\"a\",{attrs:{href:\"#propagation-事务传播行为\"}},[a._v(\"propagation：事务传播行为\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#isolation-事务隔离级别\"}},[a._v(\"isolation：事务隔离级别\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#timeout-超时时间\"}},[a._v(\"timeout：超时时间\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#readonly-是否只读\"}},[a._v(\"readOnly：是否只读\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#rolibackfor-回滚\"}},[a._v(\"rolibackFor：回滚\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#norollbackfor-不回滚\"}},[a._v(\"noRollbackFor：不回滚\")])])])]),t(\"li\",[t(\"a\",{attrs:{href:\"#xml声明式声明式事务管理-了解\"}},[a._v(\"XML声明式声明式事务管理(了解)\")])]),t(\"li\",[t(\"a\",{attrs:{href:\"#完全注解开发\"}},[a._v(\"完全注解开发\")])])])]),t(\"p\"),a._v(\" \"),t(\"h2\",{attrs:{id:\"事务概念\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#事务概念\"}},[a._v(\"#\")]),a._v(\" 事务概念\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[a._v(\"什么是事务\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[t(\"font\",{attrs:{color:\"#DC4040\",size:\"4\",face:\"黑体\"}},[a._v(\"事务是数据库操作最基本的单元，逻辑上一组操作，要么都成功，如果有一个失败所有操作都失败\")])],1),a._v(\" \"),t(\"li\",[a._v(\"典型场景:银行转账\")])]),a._v(\" \"),t(\"ul\",[t(\"li\",[a._v(\"lucy转账100元给mary\")]),a._v(\" \"),t(\"li\",[a._v(\"lucy少100,mary多100\")])])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"事务四个特性(ACID)\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[a._v(\"原子性\")]),a._v(\" \"),t(\"li\",[a._v(\"一致性\")]),a._v(\" \"),t(\"li\",[a._v(\"隔离性\")]),a._v(\" \"),t(\"li\",[a._v(\"持久性\")])])])]),a._v(\" \"),t(\"h2\",{attrs:{id:\"搭建事务操作环境\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#搭建事务操作环境\"}},[a._v(\"#\")]),a._v(\" 搭建事务操作环境\")]),a._v(\" \"),t(\"p\",[t(\"img\",{staticClass:\"lazy\",attrs:{alt:\"1641268064900\",\"data-src\":\"./images/05/01.png\",loading:\"lazy\"}})]),a._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[a._v(\"创建数据库表,添加数据\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-sql line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-sql\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"CREATE\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"TABLE\")]),a._v(\" t_account\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"\\n\\tid \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"VARCHAR\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"20\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\"\\n\\tusername \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"VARCHAR\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"50\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\"\\n\\tmoney \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"VARCHAR\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"50\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"INSERT\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"INTO\")]),a._v(\" t_account \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"VALUES\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v(\"'1'\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v(\"'lucy'\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"1000\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"INSERT\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"INTO\")]),a._v(\" t_account \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"VALUES\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v(\"'2'\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v(\"'mary'\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"1000\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),t(\"br\")])])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"创建service,搭建dao,完成对象创建和注入关系\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[a._v(\"service注入dao,在dao注入JdbcTemplate,在JdbcTemplate注入DataSource\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-java line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Service\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"UserService\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//注入dao\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Autowired\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"private\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"UserDao\")]),a._v(\" userDao\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),t(\"br\")])]),t(\"div\",{staticClass:\"language-java line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Repository\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"UserDaoImpl\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"implements\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"UserDao\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Autowired\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"private\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"JdbcTemplate\")]),a._v(\" jdbcTemplate\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),t(\"br\")])])])])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"在dao创建两个方法，多钱和少钱的方法，在service创建方法(转账的方法)\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-java line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Repository\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"UserDaoImpl\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"implements\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"UserDao\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Autowired\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"private\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"JdbcTemplate\")]),a._v(\" jdbcTemplate\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//少钱\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Override\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"void\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"reduceMoney\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"String\")]),a._v(\" sql\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"update t_account set money=money-? where username=?\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n        jdbcTemplate\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"update\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"sql\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"100\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"lucy\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//多钱\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Override\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"void\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"addMoney\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"String\")]),a._v(\" sql\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"update t_account set money=money+? where username=?\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n        jdbcTemplate\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"update\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"sql\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"100\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"mary\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\\n\\n\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"14\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"15\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"16\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"17\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"18\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"19\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"20\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"21\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"22\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"23\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"24\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"25\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"26\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"27\")]),t(\"br\")])]),t(\"div\",{staticClass:\"language-java line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Service\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"UserService\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//注入dao\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Autowired\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"private\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"UserDao\")]),a._v(\" userDao\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//转账的方法\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\"  \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"void\")]),a._v(\"  \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"accountMoney\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//lucy少100\")]),a._v(\"\\n        userDao\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"reduceMoney\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//mary多100\")]),a._v(\"\\n        userDao\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"addMoney\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"14\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"15\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"16\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"17\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"18\")]),t(\"br\")])])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"上面代码，如果正常执行没有问题的，但是如果代码执行过程中出现异常,有问题\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-java line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//转账的方法\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\"  \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"void\")]),a._v(\"  \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"accountMoney\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//lucy少100\")]),a._v(\"\\n        userDao\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"reduceMoney\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//模拟异常\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"int\")]),a._v(\" i \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"10\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"/\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"0\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//mary多100\")]),a._v(\"\\n        userDao\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"addMoney\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//结果lucy少了100，而mary并没有增加100\")]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"14\")]),t(\"br\")])]),t(\"ol\",[t(\"li\",[t(\"p\",[a._v(\"上面问题如何解决呢\")]),a._v(\" \"),t(\"ul\",[t(\"li\",[a._v(\"使用事务进行解决\")])])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"事务操作\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-java line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[t(\"code\",[a._v(\"    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//转账的方法\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\"  \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"void\")]),a._v(\"  \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"accountMoney\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"try\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//第一步 开启事务\")]),a._v(\"\\n\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//第二步进行业务操作\")]),a._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//lucy少100\")]),a._v(\"\\n            userDao\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"reduceMoney\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//模拟异常\")]),a._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"int\")]),a._v(\" i \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"10\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"/\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"0\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//mary多100\")]),a._v(\"\\n            userDao\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"addMoney\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//第三步 没有发生异常，提交事务\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"catch\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"Exception\")]),a._v(\" e\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//第四步 出现异常，事务回滚\")]),a._v(\"\\n\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"14\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"15\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"16\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"17\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"18\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"19\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"20\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"21\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"22\")]),t(\"br\")])])])])])]),a._v(\" \"),t(\"h2\",{attrs:{id:\"spring-事务管理介绍\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#spring-事务管理介绍\"}},[a._v(\"#\")]),a._v(\" Spring 事务管理介绍\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[t(\"strong\",[a._v(\"事务添加到JavaEE三层结构里面Service层(业务逻辑层)\")])])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"在Spring进行事务管理操作\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[a._v(\"有两种方式:编程式事务管理和声明式事务管理(使用)\")])])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"声明式事务管理\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[a._v(\"基于注解方式(使用)\")]),a._v(\" \"),t(\"li\",[a._v(\"基于xml配置文件方式\")])])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"在Spring进行声明式事务管理，底层使用AOP\")])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"Spring事务管理API\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[a._v(\"提供一个接口，代表事务管理器，这个接口针对不同的框架提供不同的实现类\")])]),a._v(\" \"),t(\"p\",[t(\"img\",{staticClass:\"lazy\",attrs:{alt:\"1641285181807\",\"data-src\":\"./images/05/02.png\",loading:\"lazy\"}})])])]),a._v(\" \"),t(\"h2\",{attrs:{id:\"注解声明式事务管理\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#注解声明式事务管理\"}},[a._v(\"#\")]),a._v(\" 注解声明式事务管理\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[a._v(\"在Spring:配置文件配置事务管理器\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-xml line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[t(\"code\",[a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"\\x3c!--创建事务管理器--\\x3e\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),a._v(\"bean\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"id\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"transactionManager\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"class\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"\\x3c!--注入数据源--\\x3e\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),a._v(\"property\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"name\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"dataSource\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"ref\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"dataSource\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"</\")]),a._v(\"property\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"</\")]),a._v(\"bean\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),t(\"br\")])])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"在Spring配置文件，开启事务注解\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[a._v(\"在Spring配置文件引入名称空间tx\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-xml line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),a._v(\"beans\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"xmlns\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"http://www.springframework.org/schema/beans\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),a._v(\"\\n       \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"xmlns:\")]),a._v(\"xsi\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"http://www.w3.org/2001/XMLSchema-instance\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),a._v(\"\\n       \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"xmlns:\")]),a._v(\"context\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"http://www.springframework.org/schema/context\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),a._v(\"\\n       \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"xmlns:\")]),a._v(\"aop\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"http://www.springframework.org/schema/aop\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),a._v(\"\\n       \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"xmlns:\")]),a._v(\"tx\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"http://www.springframework.org/schema/tx\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),a._v(\"\\n       \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"xsi:\")]),a._v(\"schemaLocation\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\\n                            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\\n                            http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd\\n                            http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),t(\"br\")])])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"开启事务注解\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-xml line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[t(\"code\",[a._v(\"    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"\\x3c!--开启事务注解--\\x3e\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"tx:\")]),a._v(\"annotation-driven\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"transaction-manager\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"transactionManager\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"</\")]),t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"tx:\")]),a._v(\"annotation-driven\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\")])])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"在service类上面(获取service类里面方法上面)添加事务注解\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[a._v(\"@Transactional,这个注解添加到类上面，也可以添加到方法上面\")]),a._v(\" \"),t(\"li\",[a._v(\"如果把这个注解添加到类上面，这个类里面的所有的方法都添加事务\")]),a._v(\" \"),t(\"li\",[a._v(\"如果把这个注解添加到方法上面，为这个方法添加事务\")])])])]),a._v(\" \"),t(\"div\",{staticClass:\"language-java line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Service\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Transactional\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"UserService\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\")])])])]),a._v(\" \"),t(\"blockquote\",[t(\"p\",[a._v(\"经测试，虽然发生异常，但是事务回滚，lucy和mary的金额仍然是1000\")])]),a._v(\" \"),t(\"h2\",{attrs:{id:\"注解声明式事务管理参数配置\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#注解声明式事务管理参数配置\"}},[a._v(\"#\")]),a._v(\" 注解声明式事务管理参数配置\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[a._v(\"在service类上面添加注解@Transactiona，在这个注解里面可以配置事务相关参数\")]),a._v(\" \"),t(\"p\",[t(\"img\",{staticClass:\"lazy\",attrs:{alt:\"1641288148539\",\"data-src\":\"./images/05/03.png\",loading:\"lazy\"}})])])]),a._v(\" \"),t(\"h3\",{attrs:{id:\"propagation-事务传播行为\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#propagation-事务传播行为\"}},[a._v(\"#\")]),a._v(\" propagation：事务传播行为\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[a._v(\"多事务方法直接进行调用，这个过程中事务是如何进行管理的\")]),a._v(\" \"),t(\"p\",[t(\"img\",{staticClass:\"lazy\",attrs:{alt:\"1641288855859\",\"data-src\":\"./images/05/04.png\",loading:\"lazy\"}})])])]),a._v(\" \"),t(\"p\",[a._v(\"事务的传播行为可以由传播属性指定。Spring定义了7种类传播行为\")]),a._v(\" \"),t(\"table\",[t(\"thead\",[t(\"tr\",[t(\"th\",[a._v(\"传播属性\")]),a._v(\" \"),t(\"th\",[a._v(\"描述\")])])]),a._v(\" \"),t(\"tbody\",[t(\"tr\",[t(\"td\",[a._v(\"REQUIRED\")]),a._v(\" \"),t(\"td\",[a._v(\"如果有事务在运行，当前的方法就在这个事务内运行，否则，就启动一个新的事物，并在自己的事务内运行\")])]),a._v(\" \"),t(\"tr\",[t(\"td\",[a._v(\"REQUIRED_NEW\")]),a._v(\" \"),t(\"td\",[a._v(\"当前的方法必须启动新事物，并在它自己的事务内运行，如果有事务正在运行，应该将它挂起\")])]),a._v(\" \"),t(\"tr\",[t(\"td\",[a._v(\"SUPPORTS\")]),a._v(\" \"),t(\"td\",[a._v(\"如果有事务在运行，当前的方法就在这个事务内运行，否则它可以不运行在事务中\")])]),a._v(\" \"),t(\"tr\",[t(\"td\",[a._v(\"NOT_SUPPROTS\")]),a._v(\" \"),t(\"td\",[a._v(\"当前的方法不应该运行在事务中，如果有运行的事务，将它挂起\")])]),a._v(\" \"),t(\"tr\",[t(\"td\",[a._v(\"MANDATORY\")]),a._v(\" \"),t(\"td\",[a._v(\"当前的方法必须运行在事物内部，如果没有正在运行的事务，就抛出异常\")])]),a._v(\" \"),t(\"tr\",[t(\"td\",[a._v(\"NEVER\")]),a._v(\" \"),t(\"td\",[a._v(\"当前的方法不应该运行在事务中，如果有运行的事务，就抛出异常\")])]),a._v(\" \"),t(\"tr\",[t(\"td\",[a._v(\"NESTED\")]),a._v(\" \"),t(\"td\",[a._v(\"如果有事务在运行，当前的方法就应该在这个事务的嵌套事务内运行。否则，就启动一个新的事务，并在它自己的事务内运行\")])])])]),a._v(\" \"),t(\"div\",{staticClass:\"language-java line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Service\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Transactional\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"propagation \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"Propagation\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"REQUIRED\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"UserService\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"isolation-事务隔离级别\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#isolation-事务隔离级别\"}},[a._v(\"#\")]),a._v(\" isolation：事务隔离级别\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[a._v(\"事务有特性称为隔离性，多事务操作之间不会产生影响。不考虑隔离性产生很多问题\")])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"有三个读的问题:脏读、不可重复读、幻读\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[a._v(\"脏读：一个未提交事务读取到另一个 未提交事务的数据\")]),a._v(\" \"),t(\"p\",[t(\"img\",{staticClass:\"lazy\",attrs:{alt:\"1641291145696\",\"data-src\":\"./images/05/05.png\",loading:\"lazy\"}})])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"不可重复读\")]),a._v(\" \"),t(\"p\",[t(\"img\",{staticClass:\"lazy\",attrs:{alt:\"1641291191857\",\"data-src\":\"./images/05/06.png\",loading:\"lazy\"}})])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"幻读:一个未提交事务读取到另一个提交事务添加数据\")])])])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"通过设置事务隔离性，解决读问题\")]),a._v(\" \"),t(\"table\",[t(\"thead\",[t(\"tr\",[t(\"th\",{staticStyle:{\"text-align\":\"center\"}}),a._v(\" \"),t(\"th\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"脏读\")]),a._v(\" \"),t(\"th\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"不可重复度\")]),a._v(\" \"),t(\"th\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"幻读\")])])]),a._v(\" \"),t(\"tbody\",[t(\"tr\",[t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"READ UNCOMMITTED(读未提交)\")]),a._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"有\")]),a._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"有\")]),a._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"有\")])]),a._v(\" \"),t(\"tr\",[t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"READ COMMITTED(读已提交)\")]),a._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"无\")]),a._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"有\")]),a._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"有\")])]),a._v(\" \"),t(\"tr\",[t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"REPEATABLE READ(可重复读)\")]),a._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"无\")]),a._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"无\")]),a._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"有\")])]),a._v(\" \"),t(\"tr\",[t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"SERIALIZABLE(串行化)\")]),a._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"无\")]),a._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"无\")]),a._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"center\"}},[a._v(\"无\")])])])]),a._v(\" \"),t(\"div\",{staticClass:\"language-java line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Service\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Transactional\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"propagation \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"Propagation\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"REQUIRED\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\"isolation \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"Isolation\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"REPEATABLE_READ\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"UserService\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\")])])])]),a._v(\" \"),t(\"h3\",{attrs:{id:\"timeout-超时时间\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#timeout-超时时间\"}},[a._v(\"#\")]),a._v(\" timeout：超时时间\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[a._v(\"事务需要在一定时间内提交，如果不提交进行回滚\")]),a._v(\" \"),t(\"li\",[a._v(\"默认值是-1,设置时间以秒为单位进行计算\")])]),a._v(\" \"),t(\"div\",{staticClass:\"language-java line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Service\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Transactional\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"timeout \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"-\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"1\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\"propagation \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"Propagation\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"REQUIRED\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\"isolation \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"Isolation\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"REPEATABLE_READ\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"UserService\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"readonly-是否只读\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#readonly-是否只读\"}},[a._v(\"#\")]),a._v(\" readOnly：是否只读\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[a._v(\"读:查询操作，写:添加修改删除操作\")]),a._v(\" \"),t(\"li\",[a._v(\"readOnly默认值false,表示可以查询，可以添加修改删除操作\")]),a._v(\" \"),t(\"li\",[a._v(\"设置readOnly值是true,设置成true之后，只能查询\")])]),a._v(\" \"),t(\"div\",{staticClass:\"language-java line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Service\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Transactional\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"readOnly \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[a._v(\"true\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\"timeout \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"-\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"1\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\"propagation \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"Propagation\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"REQUIRED\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\"isolation \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"Isolation\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"REPEATABLE_READ\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"UserService\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"rolibackfor-回滚\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#rolibackfor-回滚\"}},[a._v(\"#\")]),a._v(\" rolibackFor：回滚\")]),a._v(\" \"),t(\"ul\",[t(\"li\",[a._v(\"设置出现哪些异常进行事务回滚\")])]),a._v(\" \"),t(\"h3\",{attrs:{id:\"norollbackfor-不回滚\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#norollbackfor-不回滚\"}},[a._v(\"#\")]),a._v(\" noRollbackFor：不回滚\")]),a._v(\" \"),t(\"ul\",[t(\"li\",[a._v(\"设置出现哪些异常不进行事务回滚\")])]),a._v(\" \"),t(\"h2\",{attrs:{id:\"xml声明式声明式事务管理-了解\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#xml声明式声明式事务管理-了解\"}},[a._v(\"#\")]),a._v(\" XML声明式声明式事务管理(了解)\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[a._v(\"在Spring配置文件中进行配置\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[a._v(\"配置事务管理器\")]),a._v(\" \"),t(\"li\",[a._v(\"配置通知\")]),a._v(\" \"),t(\"li\",[a._v(\"配置切入点和切面\")])]),a._v(\" \"),t(\"div\",{staticClass:\"language-xml line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[t(\"code\",[a._v(\"  \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"\\x3c!--1 创建事务管理器--\\x3e\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),a._v(\"bean\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"id\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"transactionManager\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"class\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"\\x3c!--注入数据源--\\x3e\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),a._v(\"property\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"name\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"dataSource\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"ref\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"dataSource\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"</\")]),a._v(\"property\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"</\")]),a._v(\"bean\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"\\x3c!--2 配置通知--\\x3e\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"tx:\")]),a._v(\"advice\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"id\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"txadvice\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"\\x3c!--配置事务参数--\\x3e\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"tx:\")]),a._v(\"attributes\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"\\x3c!--指定哪种规则的方法上面添加事务--\\x3e\")]),a._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"tx:\")]),a._v(\"method\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"name\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"accountMoney\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"propagation\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"REQUIRED\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"/>\")])]),a._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v('\\x3c!--<tx:method name=\"account*\"/>--\\x3e')]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"</\")]),t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"tx:\")]),a._v(\"attributes\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"</\")]),t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"tx:\")]),a._v(\"advice\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"\\x3c!--3 配置切入点和切面--\\x3e\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"aop:\")]),a._v(\"config\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"\\x3c!--配置切入点--\\x3e\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"aop:\")]),a._v(\"pointcut\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"id\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"pt\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"expression\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"execution(* com.frx01.spring5.service.UserService.*(..))\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"/>\")])]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"\\x3c!--配置切面--\\x3e\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"aop:\")]),a._v(\"advisor\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"advice-ref\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"txadvice\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"pointcut-ref\")]),t(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')]),a._v(\"pt\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v('\"')])]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"</\")]),t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"aop:\")]),a._v(\"advisor\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"</\")]),t(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[a._v(\"aop:\")]),a._v(\"config\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"14\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"15\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"16\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"17\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"18\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"19\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"20\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"21\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"22\")]),t(\"br\")])])])]),a._v(\" \"),t(\"h2\",{attrs:{id:\"完全注解开发\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#完全注解开发\"}},[a._v(\"#\")]),a._v(\" 完全注解开发\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[a._v(\"创建配置类，使用配置类代替xml配置文件\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-java line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"/**\\n * @author frx\\n * @version 1.0\\n * @date 2022/1/4  18:50\\n */\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Configuration\")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//配置类\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@ComponentScan\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"basePackages \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"com.frx01\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//组件扫描\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@EnableTransactionManagement\")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//开启事务\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"TxConfig\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//创建数据库连接池\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Bean\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"DruidDataSource\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"getDruidDataSource\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"DruidDataSource\")]),a._v(\" dataSource \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"new\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"DruidDataSource\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n        dataSource\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"setDriverClassName\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"com.mysql.jdbc.Driver\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n        dataSource\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"setUrl\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"jdbc:mysql:///user_db\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n        dataSource\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"setUsername\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"root\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n        dataSource\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"setPassword\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"hsp\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"return\")]),a._v(\" dataSource\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//Jdbc模板对象\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Bean\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"JdbcTemplate\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"getJdbcTemplate\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"DataSource\")]),a._v(\" dataSource\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//到ioc容器中根据类型找到dataSource\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"JdbcTemplate\")]),a._v(\" jdbcTemplate \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"new\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"JdbcTemplate\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//注入dataSource\")]),a._v(\"\\n        jdbcTemplate\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"setDataSource\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"dataSource\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"return\")]),a._v(\"  jdbcTemplate\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//创建事务事务管理器\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Bean\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"DataSourceTransactionManager\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"getDataSourceTransactionManager\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"DataSource\")]),a._v(\" dataSource\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"DataSourceTransactionManager\")]),a._v(\" transactionManager \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"new\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"DataSourceTransactionManager\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n        transactionManager\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"setDataSource\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"dataSource\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"return\")]),a._v(\" transactionManager\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"14\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"15\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"16\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"17\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"18\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"19\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"20\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"21\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"22\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"23\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"24\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"25\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"26\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"27\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"28\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"29\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"30\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"31\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"32\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"33\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"34\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"35\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"36\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"37\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"38\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"39\")]),t(\"br\")])]),t(\"ul\",[t(\"li\",[t(\"p\",[a._v(\"测试\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-java line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[t(\"code\",[a._v(\"    \"),t(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Test\")]),a._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"void\")]),a._v(\"  \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"testAccount3\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"ApplicationContext\")]),a._v(\" context \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\"\\n                \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"new\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"AnnotationConfigApplicationContext\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"TxConfig\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"UserService\")]),a._v(\" userService \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" context\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"getBean\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"userService\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"UserService\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n        userService\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"accountMoney\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),t(\"br\")])])])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);","extractedComments":[]}