{"remainingRequest":"D:\\vuepress\\VuepressBlog\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\vuepress\\VuepressBlog\\node_modules\\vuepress-plugin-img-lazy\\enhanceAppFile.js","dependencies":[{"path":"D:\\vuepress\\VuepressBlog\\node_modules\\vuepress-plugin-img-lazy\\enhanceAppFile.js","mtime":1643097657899},{"path":"D:\\vuepress\\VuepressBlog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640872325640},{"path":"D:\\vuepress\\VuepressBlog\\node_modules\\babel-loader\\lib\\index.js","mtime":1640872325344}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgY29uZmlnIGZyb20gJ0BkeW5hbWljL2ltZ0xhenknOwpleHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKF9yZWYpIHsKICB2YXIgVnVlID0gX3JlZi5WdWU7CiAgVnVlLm1peGluKHsKICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgJGlvOiB1bmRlZmluZWQKICAgICAgfTsKICAgIH0sCiAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGxhenlFbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWcuJyArIGNvbmZpZy5zZWxlY3Rvcik7CgogICAgICBpZiAoY29uZmlnLnVzZU5hdGl2ZSAmJiAnbG9hZGluZycgaW4gSFRNTEltYWdlRWxlbWVudC5wcm90b3R5cGUpIHsKICAgICAgICBsYXp5RWxzLmZvckVhY2goZnVuY3Rpb24gKGxhenlFbCkgewogICAgICAgICAgIWxhenlFbC5nZXRBdHRyaWJ1dGUoJ3NyYycpICYmIGxhenlFbC5zZXRBdHRyaWJ1dGUoJ3NyYycsIGxhenlFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJykpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2V0T2JzZXJ2ZXIoKTsKICAgICAgICBsYXp5RWxzLmZvckVhY2goZnVuY3Rpb24gKGxhenlFbCkgewogICAgICAgICAgX3RoaXMuJGlvLm9ic2VydmUobGF6eUVsKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgc2V0T2JzZXJ2ZXI6IGZ1bmN0aW9uIHNldE9ic2VydmVyKCkgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICB0aGlzLiRpbyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihmdW5jdGlvbiAoZW50cmllcykgewogICAgICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChpdGVtLmlzSW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICAgICAgdmFyIHNyYyA9IF90aGlzMi5nZXRTcmMoaXRlbS50YXJnZXQpOwoKICAgICAgICAgICAgICBpZiAoc3JjKSB7CiAgICAgICAgICAgICAgICBpdGVtLnRhcmdldC5zcmMgPSBzcmM7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpczIuJGlvLnVub2JzZXJ2ZShpdGVtLnRhcmdldCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0sIHsKICAgICAgICAgIHJvb3RNYXJnaW46IGNvbmZpZy5yb290TWFyZ2luCiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGdldFNyYzogZnVuY3Rpb24gZ2V0U3JjKGVsKSB7CiAgICAgICAgaWYgKGVsLmRhdGFzZXQpIHsKICAgICAgICAgIHJldHVybiBlbC5kYXRhc2V0LnNyYzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGl0ZW0gPSBlbC5hdHRyaWJ1dGVzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubm9kZU5hbWUgPT09ICdkYXRhLXNyYyc7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBpdGVtICYmIGl0ZW0ubm9kZVZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0pOwp9KTs="},{"version":3,"sources":["D:/vuepress/VuepressBlog/node_modules/vuepress-plugin-img-lazy/enhanceAppFile.js"],"names":["config","Vue","mixin","data","$io","undefined","mounted","lazyEls","document","querySelectorAll","selector","useNative","HTMLImageElement","prototype","forEach","lazyEl","getAttribute","setAttribute","setObserver","observe","methods","IntersectionObserver","entries","item","isIntersecting","src","getSrc","target","unobserve","rootMargin","el","dataset","attributes","find","nodeName","nodeValue"],"mappings":";;;;AAAA,OAAOA,MAAP,MAAmB,kBAAnB;AAEA,gBAAe,gBAAa;AAAA,MAAVC,GAAU,QAAVA,GAAU;AAC1BA,EAAAA,GAAG,CAACC,KAAJ,CAAU;AACRC,IAAAA,IADQ,kBACD;AACL,aAAO;AACLC,QAAAA,GAAG,EAAEC;AADA,OAAP;AAGD,KALO;AAORC,IAAAA,OAPQ,qBAOE;AAAA;;AACR,UAAMC,OAAO,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,SAAST,MAAM,CAACU,QAA1C,CAAhB;;AACA,UAAIV,MAAM,CAACW,SAAP,IAAoB,aAAaC,gBAAgB,CAACC,SAAtD,EAAiE;AAC/DN,QAAAA,OAAO,CAACO,OAAR,CAAgB,UAAAC,MAAM,EAAI;AACxB,WAACA,MAAM,CAACC,YAAP,CAAoB,KAApB,CAAD,IAA+BD,MAAM,CAACE,YAAP,CAAoB,KAApB,EAA2BF,MAAM,CAACC,YAAP,CAAoB,UAApB,CAA3B,CAA/B;AACD,SAFD;AAGD,OAJD,MAIO;AACL,aAAKE,WAAL;AACAX,QAAAA,OAAO,CAACO,OAAR,CAAgB,UAAAC,MAAM,EAAI;AACxB,UAAA,KAAI,CAACX,GAAL,CAASe,OAAT,CAAiBJ,MAAjB;AACD,SAFD;AAGD;AACF,KAnBO;AAqBRK,IAAAA,OAAO,EAAE;AACPF,MAAAA,WADO,yBACO;AAAA;;AACZ,aAAKd,GAAL,GAAW,IAAIiB,oBAAJ,CAAyB,UAAAC,OAAO,EAAI;AAC7CA,UAAAA,OAAO,CAACR,OAAR,CAAgB,UAAAS,IAAI,EAAI;AACtB,gBAAIA,IAAI,CAACC,cAAT,EAAyB;AACvB,kBAAMC,GAAG,GAAG,MAAI,CAACC,MAAL,CAAYH,IAAI,CAACI,MAAjB,CAAZ;;AAEA,kBAAIF,GAAJ,EAAS;AACPF,gBAAAA,IAAI,CAACI,MAAL,CAAYF,GAAZ,GAAkBA,GAAlB;AACD;;AACD,cAAA,MAAI,CAACrB,GAAL,CAASwB,SAAT,CAAmBL,IAAI,CAACI,MAAxB;AACD;AACF,WATD;AAUD,SAXU,EAWR;AACDE,UAAAA,UAAU,EAAE7B,MAAM,CAAC6B;AADlB,SAXQ,CAAX;AAcD,OAhBM;AAiBPH,MAAAA,MAjBO,kBAiBAI,EAjBA,EAiBI;AACT,YAAIA,EAAE,CAACC,OAAP,EAAgB;AACd,iBAAOD,EAAE,CAACC,OAAH,CAAWN,GAAlB;AACD,SAFD,MAEO;AACL,cAAMF,IAAI,GAAGO,EAAE,CAACE,UAAH,CAAcC,IAAd,CAAmB,UAAAV,IAAI;AAAA,mBAAIA,IAAI,CAACW,QAAL,KAAkB,UAAtB;AAAA,WAAvB,CAAb;AACA,iBAAOX,IAAI,IAAIA,IAAI,CAACY,SAApB;AACD;AACF;AAxBM;AArBD,GAAV;AAgDD,CAjDD","sourcesContent":["import config from '@dynamic/imgLazy'\n\nexport default ({ Vue }) => {\n  Vue.mixin({\n    data() {\n      return {\n        $io: undefined\n      }\n    },\n\n    mounted() {\n      const lazyEls = document.querySelectorAll('img.' + config.selector)\n      if (config.useNative && 'loading' in HTMLImageElement.prototype) {\n        lazyEls.forEach(lazyEl => {\n          !lazyEl.getAttribute('src') && lazyEl.setAttribute('src', lazyEl.getAttribute('data-src'))\n        })\n      } else {\n        this.setObserver()\n        lazyEls.forEach(lazyEl => {\n          this.$io.observe(lazyEl)\n        })\n      }\n    },\n\n    methods: {\n      setObserver() {\n        this.$io = new IntersectionObserver(entries => {\n          entries.forEach(item => {\n            if (item.isIntersecting) {\n              const src = this.getSrc(item.target)\n\n              if (src) {\n                item.target.src = src\n              }\n              this.$io.unobserve(item.target)\n            }\n          })\n        }, {\n          rootMargin: config.rootMargin\n        })\n      },\n      getSrc(el) {\n        if (el.dataset) {\n          return el.dataset.src\n        } else {\n          const item = el.attributes.find(item => item.nodeName === 'data-src')\n          return item && item.nodeValue\n        }\n      }\n    }\n  })\n}\n"]}]}