{"remainingRequest":"D:\\vuepress\\VuepressBlog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vuepress\\VuepressBlog\\node_modules\\vuepress-plugin-toolbar\\components\\page-nav\\PageNav.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vuepress\\VuepressBlog\\node_modules\\vuepress-plugin-toolbar\\components\\page-nav\\PageNav.vue","mtime":1643102531056},{"path":"D:\\vuepress\\VuepressBlog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640872325640},{"path":"D:\\vuepress\\VuepressBlog\\node_modules\\babel-loader\\lib\\index.js","mtime":1640872325344},{"path":"D:\\vuepress\\VuepressBlog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640872325640},{"path":"D:\\vuepress\\VuepressBlog\\node_modules\\vue-loader\\lib\\index.js","mtime":1640872326265}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCYXNlT3B0IGZyb20gJy4uL2Jhc2Utb3B0L0Jhc2VPcHQnCmltcG9ydCBQYWdlTmF2SXRlbSBmcm9tICcuL1BhZ2VOYXZJdGVtJwoKY29uc3QgREVGQVVMR19DT05GSUcgPSB7CiAgaWNvbjogJ2ljb25mb250IGljb24tZGFvaGFuZycsCiAgbmFtZTogJ+WvvOiIqicsCn0KZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgQmFzZU9wdCwgUGFnZU5hdkl0ZW0gfSwKICBwcm9wczogewogICAgY29uZmlnOiB7fSwKICAgIHBhZ2VPYmplY3Q6IHt9LAogICAgcGFnZUtleToge30sCiAgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0eWxlT2JqZWN0OiB7CiAgICAgICAgZGlzcGxheTogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIGNvbmZpZ1A6IG51bGwsCiAgICAgIGhlYWRlcnM6IFtdLAogICAgICBwYWdlVGl0bGVPYmo6IG51bGwKICAgIH0KICB9LAogIGNyZWF0ZWQgKCkgewogICAgbGV0IGNvbmZpZyA9IERFRkFVTEdfQ09ORklHCiAgICBpZiAodGhpcy5jb25maWcpIHsKICAgICAgY29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMR19DT05GSUcsIHRoaXMuY29uZmlnKQogICAgfSBlbHNlIHsKICAgICAgY29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMR19DT05GSUcsIHsKICAgICAgICBwb3BvdmVyOiB7fQogICAgICB9KQogICAgfQogICAgaWYgKCFjb25maWcucG9wb3ZlcikgewogICAgICBjb25maWcucG9wb3ZlciA9IHt9CiAgICB9CiAgICB0aGlzLmNvbmZpZ1AgPSBjb25maWcKICB9LAogIG1ldGhvZHM6IHsKICAgIGJ1aWxkICgpIHsKICAgICAgbGV0IHRvY3MgPSB0aGlzLmJ1aWxkVG9jcygpCiAgICAgIGlmICh0b2NzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgdGhpcy5wYWdlVGl0bGVPYmogPSB0b2NzWzBdCiAgICAgICAgdGhpcy5oZWFkZXJzID0gdG9jc1swXS5jaGlsZHMKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmhlYWRlcnMgPSB0b2NzCiAgICAgIH0KICAgIH0sCiAgICBidWlsZFRvY3MgKCkgewogICAgICBsZXQgaGVhZGVyTGlucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYWdlIC5jb250ZW50X19kZWZhdWx0IC5oZWFkZXItYW5jaG9yJykKICAgICAgaWYgKGhlYWRlckxpbnMgJiYgaGVhZGVyTGlucy5sZW5ndGggIT0gMCkgewogICAgICAgIGxldCBoZWFkZXJzID0gW10KICAgICAgICBsZXQgaDFOb2RlID0gbnVsbAogICAgICAgIGxldCBoMk5vZGUgPSBudWxsCiAgICAgICAgbGV0IGgzTm9kZSA9IG51bGwKICAgICAgICBsZXQgaDROb2RlID0gbnVsbAogICAgICAgIGxldCBoNU5vZGUgPSBudWxsCiAgICAgICAgbGV0IGg2Tm9kZSA9IG51bGwKICAgICAgICBoZWFkZXJMaW5zLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICBsZXQgdGFnTmFtZSA9IGl0ZW0ucGFyZW50RWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkKICAgICAgICAgIGxldCBsZXZlbCA9IHBhcnNlSW50KHRhZ05hbWUuc3Vic3RyKDEpKQogICAgICAgICAgbGV0IG5vZGUgPSB7CiAgICAgICAgICAgIHBhdGg6IGl0ZW0ucGF0aG5hbWUgKyBpdGVtLmhhc2gsCiAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmV4dFNpYmxpbmcuZGF0YSwKICAgICAgICAgICAgbGV2ZWw6IGxldmVsLAogICAgICAgICAgICBjaGlsZHM6IFtdCiAgICAgICAgICB9CiAgICAgICAgICBzd2l0Y2ggKGxldmVsKSB7CiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBoMU5vZGUgPSBub2RlCiAgICAgICAgICAgICAgaGVhZGVycy5wdXNoKG5vZGUpCiAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGgxTm9kZS5jaGlsZHMucHVzaChub2RlKQogICAgICAgICAgICAgIGgyTm9kZSA9IG5vZGUKICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgaDJOb2RlLmNoaWxkcy5wdXNoKG5vZGUpCiAgICAgICAgICAgICAgaDNOb2RlID0gbm9kZQogICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBoM05vZGUuY2hpbGRzLnB1c2gobm9kZSkKICAgICAgICAgICAgICBoNE5vZGUgPSBub2RlCiAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGg0Tm9kZS5jaGlsZHMucHVzaChub2RlKQogICAgICAgICAgICAgIGg1Tm9kZSA9IG5vZGUKICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgaDVOb2RlLmNoaWxkcy5wdXNoKG5vZGUpCiAgICAgICAgICAgICAgaDZOb2RlID0gbm9kZQogICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAvLyBjb25zb2xlLmxvZyhoZWFkZXJzKQogICAgICAgIHJldHVybiBoZWFkZXJzCiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBwYWdlS2V5ICh2YWwpIHsKICAgIH0sCiAgICBwYWdlT2JqZWN0ICh2YWwpIHsKICAgICAgaWYgKCcvJyA9PSB2YWwucGF0aCkgewogICAgICAgIHRoaXMuc3R5bGVPYmplY3QuZGlzcGxheSA9ICdub25lJwogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIHRoaXMuc3R5bGVPYmplY3QuZGlzcGxheSA9IHVuZGVmaW5lZAogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5idWlsZCgpCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["PageNav.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PageNav.vue","sourceRoot":"node_modules/vuepress-plugin-toolbar/components/page-nav","sourcesContent":["<template>\r\n  <base-opt :config=\"configP\" v-bind:style=\"styleObject\" class=\"me-toolbar-sidebar-page-nav\">\r\n    <a v-if=\"pageTitleObj != null\"\r\n       :href=\"pageTitleObj.path\"\r\n       class=\"sidebar-link page-nav-title\">\r\n      {{pageTitleObj.name}}\r\n    </a>\r\n    <hr>\r\n    <div class=\"page-nav-scorll\">\r\n      <page-nav-item :menus=\"headers\"></page-nav-item>\r\n    </div>\r\n  </base-opt>\r\n</template>\r\n\r\n<script>\r\n  import BaseOpt from '../base-opt/BaseOpt'\r\n  import PageNavItem from './PageNavItem'\r\n\r\n  const DEFAULG_CONFIG = {\r\n    icon: 'iconfont icon-daohang',\r\n    name: '导航',\r\n  }\r\n  export default {\r\n    components: { BaseOpt, PageNavItem },\r\n    props: {\r\n      config: {},\r\n      pageObject: {},\r\n      pageKey: {},\r\n    },\r\n    data () {\r\n      return {\r\n        styleObject: {\r\n          display: undefined\r\n        },\r\n        configP: null,\r\n        headers: [],\r\n        pageTitleObj: null\r\n      }\r\n    },\r\n    created () {\r\n      let config = DEFAULG_CONFIG\r\n      if (this.config) {\r\n        config = Object.assign({}, DEFAULG_CONFIG, this.config)\r\n      } else {\r\n        config = Object.assign({}, DEFAULG_CONFIG, {\r\n          popover: {}\r\n        })\r\n      }\r\n      if (!config.popover) {\r\n        config.popover = {}\r\n      }\r\n      this.configP = config\r\n    },\r\n    methods: {\r\n      build () {\r\n        let tocs = this.buildTocs()\r\n        if (tocs.length == 1) {\r\n          this.pageTitleObj = tocs[0]\r\n          this.headers = tocs[0].childs\r\n        } else {\r\n          this.headers = tocs\r\n        }\r\n      },\r\n      buildTocs () {\r\n        let headerLins = document.querySelectorAll('.page .content__default .header-anchor')\r\n        if (headerLins && headerLins.length != 0) {\r\n          let headers = []\r\n          let h1Node = null\r\n          let h2Node = null\r\n          let h3Node = null\r\n          let h4Node = null\r\n          let h5Node = null\r\n          let h6Node = null\r\n          headerLins.forEach(item => {\r\n            let tagName = item.parentElement.tagName.toLowerCase()\r\n            let level = parseInt(tagName.substr(1))\r\n            let node = {\r\n              path: item.pathname + item.hash,\r\n              name: item.nextSibling.data,\r\n              level: level,\r\n              childs: []\r\n            }\r\n            switch (level) {\r\n              case 1:\r\n                h1Node = node\r\n                headers.push(node)\r\n                break\r\n              case 2:\r\n                h1Node.childs.push(node)\r\n                h2Node = node\r\n                break\r\n              case 3:\r\n                h2Node.childs.push(node)\r\n                h3Node = node\r\n                break\r\n              case 4:\r\n                h3Node.childs.push(node)\r\n                h4Node = node\r\n                break\r\n              case 5:\r\n                h4Node.childs.push(node)\r\n                h5Node = node\r\n                break\r\n              case 6:\r\n                h5Node.childs.push(node)\r\n                h6Node = node\r\n                break\r\n            }\r\n          })\r\n          // console.log(headers)\r\n          return headers\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      pageKey (val) {\r\n      },\r\n      pageObject (val) {\r\n        if ('/' == val.path) {\r\n          this.styleObject.display = 'none'\r\n          return\r\n        }\r\n        this.styleObject.display = undefined\r\n        this.$nextTick(() => {\r\n          this.build()\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n  .close {\r\n    display none !important\r\n  }\r\n</style>\r\n"]}]}